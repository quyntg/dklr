{
    "schema": {
        "type": "object",
        "readonly": false,
        "properties": {
            "chon_loai_thiet_bi": {
                "type": "array",
                "required": false,
                "enum": ["1","2"]
            },
            "thiet_bi_san_xuat_chinh": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "ten_thiet_bi_pl2": {
                            "type": "string"
                        },
                        "nhan_hieu_pl2": {
                            "type": "string"
                        },
                        "nuoc_san_xuat_pl2": {
                            "type": "string"
                        },
                        "so_luong_pl2": {
                            "type": "string"
                        },
                        "tinh_trang_pl2": {
                            "type": "string"
                        },
                        "ghi_chu_pl2": {
                            "type": "string"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_chinh": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "ten_thiet_bi": {
                            "type": "string"
                        },
                        "ten_thiet_bi_text": {
                            "type": "string"
                        },
                        "nhan_hieu": {
                            "type": "string"
                        },
                        "nuoc_san_xuat": {
                            "type": "string"
                        },
                        "nuoc_san_xuat_text": {
                            "type": "string"
                        },
                        "so_luong": {
                            "type": "string"
                        },
                        "tinh_trang": {
                            "type": "string"
                        },
                        "ngay_hieu_luc": {
                            "type": "string"
                        },
                        "ghi_chu": {
                            "type": "string"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_lk_oto": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "ten_thiet_bi": {
                            "type": "string"
                        },
                        "ten_thiet_bi_text": {
                            "type": "string"
                        },
                        "nhan_hieu": {
                            "type": "string"
                        },
                        "nuoc_san_xuat": {
                            "type": "string"
                        },
                        "nuoc_san_xuat_text": {
                            "type": "string"
                        },
                        "so_luong": {
                            "type": "string"
                        },
                        "tinh_trang": {
                            "type": "string"
                        },
                        "ngay_hieu_luc": {
                            "type": "string"
                        },
                        "ghi_chu": {
                            "type": "string"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_ro_mooc": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "ten_thiet_bi": {
                            "type": "string"
                        },
                        "ten_thiet_bi_text": {
                            "type": "string"
                        },
                        "nhan_hieu": {
                            "type": "string"
                        },
                        "nuoc_san_xuat": {
                            "type": "string"
                        },
                        "nuoc_san_xuat_text": {
                            "type": "string"
                        },
                        "so_luong": {
                            "type": "string"
                        },
                        "tinh_trang": {
                            "type": "string"
                        },
                        "ngay_hieu_luc": {
                            "type": "string"
                        },
                        "ghi_chu": {
                            "type": "string"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_xe_may": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "ten_thiet_bi": {
                            "type": "string"
                        },
                        "ten_thiet_bi_text": {
                            "type": "string"
                        },
                        "nhan_hieu": {
                            "type": "string"
                        },
                        "nuoc_san_xuat": {
                            "type": "string"
                        },
                        "nuoc_san_xuat_text": {
                            "type": "string"
                        },
                        "so_luong": {
                            "type": "string"
                        },
                        "tinh_trang": {
                            "type": "string"
                        },
                        "ngay_hieu_luc": {
                            "type": "string"
                        },
                        "ghi_chu": {
                            "type": "string"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_lk_xe_may": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "ten_thiet_bi": {
                            "type": "string"
                        },
                        "ten_thiet_bi_text": {
                            "type": "string"
                        },
                        "nhan_hieu": {
                            "type": "string"
                        },
                        "nuoc_san_xuat": {
                            "type": "string"
                        },
                        "nuoc_san_xuat_text": {
                            "type": "string"
                        },
                        "so_luong": {
                            "type": "string"
                        },
                        "tinh_trang": {
                            "type": "string"
                        },
                        "ngay_hieu_luc": {
                            "type": "string"
                        },
                        "ghi_chu": {
                            "type": "string"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_xe_dap": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "ten_thiet_bi": {
                            "type": "string"
                        },
                        "ten_thiet_bi_text": {
                            "type": "string"
                        },
                        "nhan_hieu": {
                            "type": "string"
                        },
                        "nuoc_san_xuat": {
                            "type": "string"
                        },
                        "nuoc_san_xuat_text": {
                            "type": "string"
                        },
                        "so_luong": {
                            "type": "string"
                        },
                        "tinh_trang": {
                            "type": "string"
                        },
                        "ngay_hieu_luc": {
                            "type": "string"
                        },
                        "ghi_chu": {
                            "type": "string"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_xe_cho_nguoi": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "ten_thiet_bi": {
                            "type": "string"
                        },
                        "ten_thiet_bi_text": {
                            "type": "string"
                        },
                        "nhan_hieu": {
                            "type": "string"
                        },
                        "nuoc_san_xuat": {
                            "type": "string"
                        },
                        "nuoc_san_xuat_text": {
                            "type": "string"
                        },
                        "so_luong": {
                            "type": "string"
                        },
                        "tinh_trang": {
                            "type": "string"
                        },
                        "ngay_hieu_luc": {
                            "type": "string"
                        },
                        "ghi_chu": {
                            "type": "string"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_xe_cho_hang": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "ten_thiet_bi": {
                            "type": "string"
                        },
                        "ten_thiet_bi_text": {
                            "type": "string"
                        },
                        "nhan_hieu": {
                            "type": "string"
                        },
                        "nuoc_san_xuat": {
                            "type": "string"
                        },
                        "nuoc_san_xuat_text": {
                            "type": "string"
                        },
                        "so_luong": {
                            "type": "string"
                        },
                        "tinh_trang": {
                            "type": "string"
                        },
                        "ngay_hieu_luc": {
                            "type": "string"
                        },
                        "ghi_chu": {
                            "type": "string"
                        }
                    }
                }
            },
            "loai_hinh_danh_gia": {
                "type": "string",
                "required": false
            },
            "ma_so_tai_khoan": {
                "type": "string",
                "required": false
            },
            "thoi_han_kiem_tra_from": {
                "type": "string",
                "required": false
            },
            "thoi_han_kiem_tra_to": {
                "type": "string",
                "required": false
            },
            "phan_nhom_1": {
                "type": "string",
                "required": false
            },
            "phan_nhom_2": {
                "type": "string",
                "required": false
            },
            "phan_nhom_3": {
                "type": "string",
                "required": false
            },
            "phan_nhom_4": {
                "type": "string",
                "required": false
            },
            "phan_nhom_5": {
                "type": "string",
                "required": false
            },
            "phan_nhom_6": {
                "type": "string",
                "required": false
            },
            "yeu_cau_1": {
                "type": "string",
                "required": false
            },
            "yeu_cau_2": {
                "type": "string",
                "required": false
            },
            "yeu_cau_3": {
                "type": "string",
                "required": false
            },
            "yeu_cau_4": {
                "type": "string",
                "required": false
            },
            "yeu_cau_5": {
                "type": "string",
                "required": false
            },
            "yeu_cau_6": {
                "type": "string",
                "required": false
            },
            "dang_kiem_vien_1": {
                "type": "string",
                "required": false
            },
            "dang_kiem_vien_2": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "tu_ngay": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "den_ngay": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "dai_dien_cssx": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "so_bao_cao_cop": {
                "type": "string",
                "required": false
            },
            "ten_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "dia_chi_chinh_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "ma_so_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "inspectionDateFrom": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "inspectionDateTo": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "applicantRepresentative": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "copReportRefNo": {
                "type": "string",
                "required": false
            },
            "applicantName": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "applicantAddress": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "applicantCode": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "applicantRepresentativeTitle": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "productionPlantName": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "productionPlantAddress": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "productionPlantCode": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "so_dien_thoai_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "so_fax_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "email_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "web_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "nguoi_dai_dien_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "chuc_danh_dai_dien_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "dien_thoai_dai_dien_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "loai_hinh_doanh_nghiep": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "linh_vuc_hoat_dong": {
                "type": "string",
                "required": false,
                "enum": ["1", "2", "3", "4"]
            },
            "loai_hinh_san_xuat_text": {
                "type": "string",
                "required": false
            },
            "ten_co_so": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "dia_chi_co_so": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "ten_xuong_san_xuat": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "dia_chi_xuong_san_xuat": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "ma_so_xuong": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "email_xuong": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "website_xuong": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "nguoi_dai_dien_xuong": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "chuc_danh_dai_dien_xuong": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "nguoi_lien_he_xuong": {
                "type": "object",
                "required": false
            },
            "sdt_nguoi_lien_he_xuong": {
                "type": "object",
                "required": false
            },
            "nguoi_lien_he": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "sdt_nguoi_lien_he": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "loai_hinh_san_xuat": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "loai_san_pham_xuong": {
                "type": "array",
                "required": false,
                "items": {
                    "type": "object",
                    "properties": {
                        "sp_XCG01050": {
                            "type": "string",
                            "require": false
                        },
                        "code_nhan_hieu": {
                            "type": "string",
                            "require": false
                        },
                        "loai_hinh_sxlr_XCG01050": {
                            "type": "string",
                            "require": false
                        },
                        "code_sp_XCG01050": {
                            "type": "string",
                            "require": false
                        },
                        "code_loai_hinh_sxlr_XCG01050": {
                            "type": "string",
                            "require": false
                        },
                        "nhan_hieu": {
                            "type": "string",
                            "require": false
                        },
                        "ten_thuong_mai": {
                            "type": "string",
                            "require": false
                        },
                        "ky_hieu_thiet_ke": {
                            "type": "string",
                            "require": false
                        },
                        "ghi_chu": {
                            "type": "string",
                            "require": false
                        }
                    }
                }
            },
            "cong_suat_thiet_ke": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "cong_suat_san_xuat": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "tong_so_nhan_luc": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "tong_so_cong_nhan": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "tong_so_can_bo": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "tong_so_quan_ly": {
                "type": "string",
                "required": false,
                "default": ""
            },
            "so_luong_nhan_vien": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "danh_sach_nhan_vien" : {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string",
                            "title": "Họ và tên<br><em>Full name</em>"
                        },
                        "certNo": {
                            "type": "string",
                            "title": "Số chứng chỉ đào tạo nghiệp vụ<br><em>Training cert No</em>"
                        },
                        "place": {
                            "type": "string",
                            "title": "Nơi đào tạo<br><em>Traning places</em>"
                        },
                        "position": {
                            "type": "string",
                            "title": "Vị trí làm việc<br><em>Working position</em>"
                        }
                    }
                }
            },
            "tong_dien_tich_dat": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "dien_tich_kho": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "dien_tich_khu_van_phong": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "dien_tich_khu_vuc": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "khu_vuc_gia_cong": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "khu_vuc_han": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "khu_vuc_kiem_tra": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "khu_vuc_san_xuat": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "khu_vuc_son": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "khu_vuc_thu_nghiem": {
                "type":"string",
                "required": false,
                "default": ""
            },
            "thiet_bi_xuat_xuong": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "sequenceNo": {
                            "type": "string",
                            "title": "TT<br><em>No</em>"
                        },
                        "name": {
                            "type": "string",
                            "title": "Tên thiết bị, dụng cụ<br><em>Name of equiment</em>"
                        },
                        "mark": {
                            "type": "string",
                            "title": "Nhãn hiệu"
                        },
                        "model": {
                            "type": "string",
                            "title": "Model"
                        },
                        "seri": {
                            "type": "string",
                            "title": "Mã số<br><em>Serial No</em>"
                        },
                        "year": {
                            "type": "string",
                            "title": "Năm SX<br><em>Manufacture year</em>"
                        },
                        "country": {
                            "type": "string",
                            "title": "Nước SX<br><em>Origin country</em>"
                        },
                        "temp": {
                            "type": "string",
                            "title": "Số tem kiểm tra"
                        },
                        "status": {
                            "type": "string",
                            "title": "Tình trạng<br><em>Status</em>"
                        },
                        "note": {
                            "type": "string",
                            "title": "Tài liệu kèm theo"
                        },
                        "country_text": {
                            "type": "string",
                            "title": ""
                        },
                        "name_text": {
                            "type": "string",
                            "title": ""
                        },
                        "id": {
                            "type": "string",
                            "title": ""
                        }
                    }
                }
            },
            "hop_dong": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "sequenceNo": {
                            "type": "string",
                            "title": "TT<br><em>No</em>"
                        },
                        "code": {
                            "type": "string",
                            "title": "Mã Trung tâm Đăng kiểm</em>"
                        },
                        "number": {
                            "type": "string",
                            "title": "Số hợp đồng"
                        },
                        "time": {
                            "type": "string",
                            "title": "Thời hạn hợp đồng"
                        },
                        "bonus": {
                            "type": "string",
                            "title": "Hợp đồng kèm theo"
                        }
                    }
                }
            },
            "thiet_bi_san_xuat" : {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "sequenceNo": {
                            "type": "string",
                            "title": "TT<br><em>No</em>"
                        },
                        "name": {
                            "type": "string",
                            "title": "Tên thiết bị, dụng cụ<br><em>Name of equiment/tools</em>"
                        },
                        "mark": {
                            "type": "string",
                            "title": "Nhãn hiệu"
                        },
                        "model": {
                            "type": "string",
                            "title": "<em>Model</em>"
                        },
                        "country": {
                            "type": "string",
                            "title": "Nước sản xuất<br><em>Origin country</em>"
                        },
                        "quantity": {
                            "type": "string",
                            "title": "Số lượng<br><em>Quantity</em>"
                        },
                        "status": {
                            "type": "string",
                            "title": "Tình trạng<br><em>Status</em>"
                        },
                        "note": {
                            "type": "string",
                            "title": "Ghi chú<br><em>Note</em>"
                        }
                    }
                }
            },
            "thiet_bi_dung_cu" : {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "sequenceNo": {
                            "type": "string",
                            "title": "TT<br><em>No</em>"
                        },
                        "name": {
                            "type": "string",
                            "title": "Tên thiết bị, dụng cụ<br><em>Name of equiment/tools</em>"
                        },
                        "mark": {
                            "type": "string",
                            "title": "Nhãn hiệu"
                        },
                        "model": {
                            "type": "string",
                            "title": "<em>Model</em>"
                        },
                        "seri": {
                            "type": "string",
                            "title": "Số Seri"
                        },
                        "country": {
                            "type": "string",
                            "title": "Nước sản xuất<br><em>Origin country</em>"
                        },
                        "quantity": {
                            "type": "string",
                            "title": "Số lượng<br><em>Quantity</em>"
                        },
                        "status": {
                            "type": "string",
                            "title": "Tình trạng<br><em>Status</em>"
                        },
                        "note": {
                            "type": "string",
                            "title": "Ghi chú<br><em>Note</em>"
                        }
                    }
                }
            },
            "danh_sach_san_pham" : {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "sequenceNo": {
                            "type": "string",
                            "title": "TT<br><em>No</em>"
                        },
                        "type": {
                            "type": "string",
                            "title": "Loại sản phẩm<br><em>Product type</em>"
                        },
                        "cerNo": {
                            "type": "string",
                            "title": "Số giấy chứng nhận<br><em>Certificate Number</em>"
                        },
                        "mark": {
                            "type": "string",
                            "title": "Nhãn hiệu<br><em>Mark</em>"
                        },
                        "code_mark": {
                            "type": "string",
                            "title": "Nhãn hiệu<br><em>Mark</em>"
                        },
                        "model": {
                            "type": "string",
                            "title": "Mã kiểu loại <br><em>Model code</em>"
                        },
                        "code": {
                            "type": "string",
                            "title": "Ký hiệu thiết kế<br><em>Design code</em>"
                        },
                        "type_text": {
                            "type": "string",
                            "title": "Ký hiệu thiết kế<br><em>Design code</em>"
                        },
                        "cerNo_text": {
                            "type": "string",
                            "title": "Ký hiệu thiết kế<br><em>Design code</em>"
                        }
                    }
                }
            },
            "danh_sach_tai_lieu" : {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "sequenceNo": {
                            "type": "string",
                            "title": "TT<br><em>No</em>"
                        },
                        "name": {
                            "type": "string",
                            "title": "Tên tài liệu<br><em>Name of documents</em>"
                        },
                        "materials": {
                            "type": "string",
                            "title": "Số hiệu tài liệu <br><em>Material ref</em>"
                        },
                        "note": {
                            "type": "string",
                            "title": "Ghi chú<br><em>Note</em>"
                        }
                    }
                }
            
            },
            "list_nha_xuong": {
                "required": false,
                "type": "string"
            },
            "list_nha_xuong_text": {
                "required": false,
                "type": "string"
            },
            "list_nha_xuong_hidden": {
                "required": false,
                "type": "string"
            },
            "loai_ho_so_cop": {
                "required": false,
                "type": "string"
            },
            "noi_dung_bo_sung": {
                "required": false,
                "type": "string"
            },
            "loai_ho_so_cop_text": {
                "required": false,
                "type": "string"
            },
            "list_COP_TrongNuoc_NuocNgoai": {
                "required": false,
                "type": "string"
            },
            "list_COP_TrongNuoc_NuocNgoai_hidden": {
                "required": false,
                "type": "string"
            },
            "markupDomesticsManufacturer": {
				"type": "string"
            },
            "markupImporter": {
				"type": "string"
            },
            "copReportDate": {
                "type": "string"
            },
            "copReportStatus": {
                "type": "string"
            },
            "copReportType": {
                "type": "string"
            },
            "copReportMetadata": {
                "type": "string"
            },
            "copReportSignName": {
                "type": "string"
            },
            "copReportSignTitle": {
                "type": "string"
            },
            "copReportSignPlace": {
                "type": "string"
            },
            "copReportApprovedDate": {
                "type": "string"
            },
            "copReportExpiredDate": {
                "type": "string"
            },
            "COPFileEntryId": {
                "type": "string"
            },
            "productClassificationDescription": {
                "type": "string"
            },
            "totalPointA": {
                "type": "string"
            },
            "totalPointB": {
                "type": "string"
            },
            "totalPointC": {
                "type": "string"
            },
            "copNonConformity": {
                "type": "string"
            },
            "inspectionRecordNo": {
                "type": "string"
            },
            "inspectionRecordDate": {
                "type": "string"
            },
            "corporationId": {
                "type": "string"
            },
            "inspectorId": {
                "type": "string"
            },
            "inspectionSite": {
                "type": "string"
            },
            "subInspector": {
                "type": "string"
            },
            "description": {
                "type": "string"
            },
            "expiredStatus": {
                "type": "string"
            },
            "copReportRefDate": {
                "type": "string"
            },
            "copReportPreviousNo": {
                "type": "string"
            },
            "copReportPreviousDate": {
                "type": "string"
            },
            "module": {
                "type": "string"
            },
            "dossierIdCTN": {
                "type": "string"
            },
            "dossierNoPattern": {
                "type": "string"
            },
            "initEvent" : {
                "required": false,
                "type": "object"
            },
            "so_tham_chieu" : {
                "required": false,
                "type": "object"
            },
			"trackChange_applicantAddress": {
				"required": false,
				"type": "object"
			},
			"trackChange_applicantCode": {
				"required": false,
				"type": "object"
			},
			"trackChange_applicantRepresentative": {
				"required": false,
				"type": "object"
			},
			"trackChange_applicantRepresentativeTitle": {
				"required": false,
				"type": "object"
			},
			"trackChange_chuc_danh_dai_dien_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_chuc_danh_dai_dien_xuong": {
				"required": false,
				"type": "object"
			},
			"trackChange_cong_suat_san_xuat": {
				"required": false,
				"type": "object"
			},
			"trackChange_cong_suat_thiet_ke": {
				"required": false,
				"type": "object"
			},
			"trackChange_danh_sach_nhan_vien": {
				"required": false,
				"type": "object"
			},
			"trackChange_danh_sach_san_pham": {
				"required": false,
				"type": "object"
			},
			"trackChange_danh_sach_tai_lieu": {
				"required": false,
				"type": "object"
			},
			"trackChange_dia_chi_chinh_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_dia_chi_co_so": {
				"required": false,
				"type": "object"
			},
			"trackChange_dia_chi_xuong_san_xuat": {
				"required": false,
				"type": "object"
			},
			"trackChange_dien_thoai_dai_dien_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_dien_tich_kho": {
				"required": false,
				"type": "object"
			},
			"trackChange_dien_tich_khu_van_phong": {
				"required": false,
				"type": "object"
			},
			"trackChange_dien_tich_khu_vuc": {
				"required": false,
				"type": "object"
			},
			"trackChange_dossierNoPattern": {
				"required": false,
				"type": "object"
			},
			"trackChange_email_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_email_xuong": {
				"required": false,
				"type": "object"
			},
			"trackChange_khu_vuc_gia_cong": {
				"required": false,
				"type": "object"
			},
			"trackChange_khu_vuc_han": {
				"required": false,
				"type": "object"
			},
			"trackChange_khu_vuc_kiem_tra": {
				"required": false,
				"type": "object"
			},
			"trackChange_khu_vuc_san_xuat": {
				"required": false,
				"type": "object"
			},
			"trackChange_khu_vuc_son": {
				"required": false,
				"type": "object"
			},
			"trackChange_khu_vuc_thu_nghiem": {
				"required": false,
				"type": "object"
			},
			"trackChange_loai_hinh_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_loai_hinh_san_xuat": {
				"required": false,
				"type": "object"
			},
			"trackChange_loai_ho_so_cop": {
				"required": false,
				"type": "object"
			},
			"trackChange_loai_san_pham_xuong": {
				"required": false,
				"type": "object"
			},
			"trackChange_ma_so_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_ma_so_tai_khoan": {
				"required": false,
				"type": "object"
			},
			"trackChange_ma_so_xuong": {
				"required": false,
				"type": "object"
			},
			"trackChange_nguoi_dai_dien_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_nguoi_dai_dien_xuong": {
				"required": false,
				"type": "object"
			},
			"trackChange_nguoi_lien_he": {
				"required": false,
				"type": "object"
			},
            "trackChange_nguoi_lien_he_xuong": {
                "required": false,
                "type": "object"
            },
            "trackChange_sdt_nguoi_lien_he_xuong": {
                "required": false,
                "type": "object"
            },
			"trackChange_productionPlantAddress": {
				"required": false,
				"type": "object"
			},
			"trackChange_productionPlantCode": {
				"required": false,
				"type": "object"
			},
			"trackChange_productionPlantName": {
				"required": false,
				"type": "object"
			},
			"trackChange_sdt_nguoi_lien_he": {
				"required": false,
				"type": "object"
			},
			"trackChange_so_dien_thoai_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_so_fax_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_so_luong_nhan_vien": {
				"required": false,
				"type": "object"
			},
			"trackChange_so_tham_chieu": {
				"required": false,
				"type": "object"
			},
			"trackChange_ten_co_so": {
				"required": false,
				"type": "object"
			},
			"trackChange_ten_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_ten_xuong_san_xuat": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_dung_cu": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_kiem_tra_chinh": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_kiem_tra_lk_oto": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_kiem_tra_lk_xe_may": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_kiem_tra_ro_mooc": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_kiem_tra_xe_cho_hang": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_kiem_tra_xe_cho_nguoi": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_kiem_tra_xe_dap": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_kiem_tra_xe_may": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_san_xuat": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_san_xuat_chinh": {
				"required": false,
				"type": "object"
			},
			"trackChange_thiet_bi_xuat_xuong": {
				"required": false,
				"type": "object"
			},
			"trackChange_hop_dong": {
				"required": false,
				"type": "object"
			},
			"trackChange_tong_dien_tich_dat": {
				"required": false,
				"type": "object"
			},
			"trackChange_tong_so_can_bo": {
				"required": false,
				"type": "object"
			},
			"trackChange_tong_so_quan_ly": {
				"required": false,
				"type": "object"
			},
			"trackChange_tong_so_cong_nhan": {
				"required": false,
				"type": "object"
			},
			"trackChange_tong_so_nhan_luc": {
				"required": false,
				"type": "object"
			},
			"trackChange_vr_COPProductType": {
				"required": false,
				"type": "object"
			},
			"trackChange_vr_COPProductionPlantEmployee": {
				"required": false,
				"type": "object"
			},
			"trackChange_vr_COPProductionPlantEquipment": {
				"required": false,
				"type": "object"
			},
			"trackChange_vr_COPProductionPlantProdEquipment": {
				"required": false,
				"type": "object"
			},
			"trackChange_vr_COPReport_Attach": {
				"required": false,
				"type": "object"
			},
			"trackChange_web_doanh_nghiep": {
				"required": false,
				"type": "object"
			},
			"trackChange_website_xuong": {
				"required": false,
				"type": "object"
			},
			"markupCorporation": {
				"required": false,
				"type": "object"
			},
			"markupDesigner": {
				"required": false,
				"type": "object"
			},
			"markupDomesticsManufacturer": {
				"required": false,
				"type": "object"
			},
			"markupOverseasManufacturer": {
				"required": false,
				"type": "object"
			},
			"dossierStatus": {
				"required": false,
				"type": "object"
			},
            "count" : {
                "required": false,
                "type": "object"
            }
        }
    },
    "options": {
        "type": "object",
        "legendStyle": "",
        "fields": {
            "chon_loai_thiet_bi": {
                "type": "checkbox",
                "id": "chon_loai_thiet_bi",
                "optionLabels": [" Có trang bị (bắt buộc theo quy định)", "Hợp đồng với Trung tâm Đăng kiểm "],
                "vertical" : false,
                "hideNone": true
            },
            "thoi_han_kiem_tra_from": {
                "type": "text",
                "id": "thoi_han_kiem_tra_from",
            },
            "thoi_han_kiem_tra_to": {
                "type": "text",
                "id": "thoi_han_kiem_tra_to",
            },
            "so_tham_chieu": {
                "type": "text",
                "id": "so_tham_chieu",
            },
            "markupDomesticsManufacturer": {
                "type": "hidden",
                "id": "markupDomesticsManufacturer",
            },
            "markupImporter": {
                "type": "hidden",
                "id": "markupImporter",
            },
            "copReportDate": {
                "type": "hidden",
                "id": "copReportDate"
            },
            "copReportStatus": {
                "type": "hidden",
                "id": "copReportStatus"
            },
            "copReportType": {
                "type": "hidden",
                "id": "copReportType"
            },
            "copReportMetadata": {
                "type": "hidden",
                "id": "copReportMetadata"
            },
            "copReportSignName": {
                "type": "hidden",
                "id": "copReportSignName"
            },
            "copReportSignTitle": {
                "type": "hidden",
                "id": "copReportSignTitle"
            },
            "copReportSignPlace": {
                "type": "hidden",
                "id": "copReportSignPlace"
            },
            "copReportApprovedDate": {
                "type": "hidden",
                "id": "copReportApprovedDate"
            },
            "copReportExpiredDate": {
                "type": "hidden",
                "id": "copReportExpiredDate"
            },
            "COPFileEntryId": {
                "type": "hidden",
                "id": "COPFileEntryId"
            },
            "productClassificationDescription": {
                "type": "hidden",
                "id": "productClassificationDescription"
            },
            "totalPointA": {
                "type": "hidden",
                "id": "totalPointA"
            },
            "totalPointB": {
                "type": "hidden",
                "id": "totalPointB"
            },
            "totalPointC": {
                "type": "hidden",
                "id": "totalPointC"
            },
            "copNonConformity": {
                "type": "hidden",
                "id": "copNonConformity"
            },
            "inspectionRecordNo": {
                "type": "hidden",
                "id": "inspectionRecordNo"
            },
            "inspectionRecordDate": {
                "type": "hidden",
                "id": "inspectionRecordDate"
            },
            "corporationId": {
                "type": "hidden",
                "id": "corporationId"
            },
            "inspectorId": {
                "type": "hidden",
                "id": "inspectorId"
            },
            "inspectionSite": {
                "type": "hidden",
                "id": "inspectionSite"
            },
            "subInspector": {
                "type": "hidden",
                "id": "subInspector"
            },
            "description": {
                "type": "hidden",
                "id": "description"
            },
            "expiredStatus": {
                "type": "hidden",
                "id": "expiredStatus"
            },
            "copReportRefDate": {
                "type": "hidden",
                "id": "copReportRefDate"
            },
            "copReportPreviousNo": {
                "type": "hidden",
                "id": "copReportPreviousNo"
            },
            "copReportPreviousDate": {
                "type": "hidden",
                "id": "copReportPreviousDate"
            },
            "module": {
                "type": "hidden",
                "id": "module"
            },
            "inspectionDateFrom": {
                "type": "hidden",
                "id": "inspectionDateFrom"
            },
            "inspectionDateTo": {
                "type": "hidden",
                "id": "inspectionDateTo"
            },
            "applicantRepresentative": {
                "type": "hidden",
                "id": "applicantRepresentative"
            },
            "copReportRefNo": {
                "type": "hidden",
                "id": "copReportRefNo"
            },
            "applicantName": {
                "id": "applicantName",
                "type": "hidden"
            },
            "applicantAddress": {
                "id": "applicantAddress",
                "type": "hidden"
            },
            "applicantCode": {
                "id": "applicantCode",
                "type": "hidden"
            },
            "applicantRepresentativeTitle": {
                "type": "hidden",
                "id": "applicantRepresentativeTitle"
            },
            "productionPlantName": {
                "type": "hidden",
                "id": "productionPlantName"
            },
            "productionPlantAddress": {
                "type": "hidden",
                "id": "productionPlantAddress"
            },
            "productionPlantCode": {
                "type": "hidden",
                "id": "productionPlantCode"
            },
            "thiet_bi_san_xuat_chinh": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",
                "items": {
                    "fields": {
                        "ten_thiet_bi_pl2": {
                            "type": "text",
                            "label": "Tên thiết bị, dụng cụ"
                        },
                        "nhan_hieu_pl2": {
                            "type": "text",
                            "label": "Nhãn hiệu/ model"
                        },
                        "nuoc_san_xuat_pl2": {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemName'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "so_luong_pl2": {
                            "type": "text",
                            "label": "Số lượng"
                        },
                        "tinh_trang_pl2": {
                            "type": "text",
                            "label": "Tình trạng"
                        },
                        "ghi_chu_pl2": {
                            "type": "text",
                            "label": "Ghi chú",
                            "rows": "2"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_chinh": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",
                "items": {
                    "fields": {
                        "ten_thiet_bi": {
                            "type": "select",
                            "label": "Tên thiết bị, dụng cụ",
                            "noneLabel": "",
                            "fieldClass": "ten-thiet-bi-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/XCG/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "ten_thiet_bi_text": {
                            "type": "text",
                            "label": "Tên"
                        },
                        "nhan_hieu": {
                            "type": "text",
                            "label": "Nhãn hiệu/ model"
                        },
                        "nuoc_san_xuat": {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "fieldClass": "nuoc-san-xuat-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "nuoc_san_xuat_text": {
                            "type": "text",
                            "label": "Nước sản xuất"
                        },
                        "so_luong": {
                            "type": "text",
                            "label": "Số lượng"
                        },
                        "tinh_trang": {
                            "type": "text",
                            "label": "Tình trạng"
                        },
                        "ngay_hieu_luc": {
                            "type": "text",
                            "label": "Ngày hiệu lực"
                        },
                        "ghi_chu": {
                            "type": "text",
                            "label": "Ghi chú",
                            "rows": "2"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_lk_oto": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",
                "items": {
                    "fields": {
                        "ten_thiet_bi": {
                            "type": "select",
                            "label": "Tên thiết bị, dụng cụ",
                            "noneLabel": "",
                            "fieldClass": "ten-thiet-bi-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/LKXCG/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "ten_thiet_bi_text": {
                            "type": "text",
                            "label": "Tên"
                        },
                        "nhan_hieu": {
                            "type": "text",
                            "label": "Nhãn hiệu/ model"
                        },
                        "nuoc_san_xuat": {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "fieldClass": "nuoc-san-xuat-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "nuoc_san_xuat_text": {
                            "type": "text",
                            "label": "Nước sản xuất"
                        },
                        "so_luong": {
                            "type": "text",
                            "label": "Số lượng"
                        },
                        "tinh_trang": {
                            "type": "text",
                            "label": "Tình trạng"
                        },
                        "ngay_hieu_luc": {
                            "type": "text",
                            "label": "Ngày hiệu lực"
                        },
                        "ghi_chu": {
                            "type": "text",
                            "label": "Ghi chú",
                            "rows": "2"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_ro_mooc": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",
                "items": {
                    "fields": {
                        "ten_thiet_bi": {
                            "type": "select",
                            "label": "Tên thiết bị, dụng cụ",
                            "noneLabel": "",
                            "fieldClass": "ten-thiet-bi-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/SMRM/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "ten_thiet_bi_text": {
                            "type": "text",
                            "label": "Tên"
                        },
                        "nhan_hieu": {
                            "type": "text",
                            "label": "Nhãn hiệu/ model"
                        },
                        "nuoc_san_xuat": {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "fieldClass": "nuoc-san-xuat-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "nuoc_san_xuat_text": {
                            "type": "text",
                            "label": "Nước sản xuất"
                        },
                        "so_luong": {
                            "type": "text",
                            "label": "Số lượng"
                        },
                        "tinh_trang": {
                            "type": "text",
                            "label": "Tình trạng"
                        },
                        "ngay_hieu_luc": {
                            "type": "text",
                            "label": "Ngày hiệu lực"
                        },
                        "ghi_chu": {
                            "type": "text",
                            "label": "Ghi chú",
                            "rows": "2"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_xe_may": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",
                "items": {
                    "fields": {
                        "ten_thiet_bi": {
                            "type": "select",
                            "label": "Tên thiết bị, dụng cụ",
                            "noneLabel": "",
                            "fieldClass": "ten-thiet-bi-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/XMY/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "ten_thiet_bi_text": {
                            "type": "text",
                            "label": "Tên"
                        },
                        "nhan_hieu": {
                            "type": "text",
                            "label": "Nhãn hiệu/ model"
                        },
                        "nuoc_san_xuat": {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "fieldClass": "nuoc-san-xuat-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "nuoc_san_xuat_text": {
                            "type": "text",
                            "label": "Nước sản xuất"
                        },
                        "so_luong": {
                            "type": "text",
                            "label": "Số lượng"
                        },
                        "tinh_trang": {
                            "type": "text",
                            "label": "Tình trạng"
                        },
                        "ngay_hieu_luc": {
                            "type": "text",
                            "label": "Ngày hiệu lực"
                        },
                        "ghi_chu": {
                            "type": "text",
                            "label": "Ghi chú",
                            "rows": "2"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_lk_xe_may": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",
                "items": {
                    "fields": {
                        "ten_thiet_bi": {
                            "type": "select",
                            "label": "Tên thiết bị, dụng cụ",
                            "noneLabel": "",
                            "fieldClass": "ten-thiet-bi-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/LKXMY/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "ten_thiet_bi_text": {
                            "type": "text",
                            "label": "Tên"
                        },
                        "nhan_hieu": {
                            "type": "text",
                            "label": "Nhãn hiệu/ model"
                        },
                        "nuoc_san_xuat": {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "fieldClass": "nuoc-san-xuat-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "nuoc_san_xuat_text": {
                            "type": "text",
                            "label": "Nước sản xuất"
                        },
                        "so_luong": {
                            "type": "text",
                            "label": "Số lượng"
                        },
                        "tinh_trang": {
                            "type": "text",
                            "label": "Tình trạng"
                        },
                        "ngay_hieu_luc": {
                            "type": "text",
                            "label": "Ngày hiệu lực"
                        },
                        "ghi_chu": {
                            "type": "text",
                            "label": "Ghi chú",
                            "rows": "2"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_xe_dap": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",
                "items": {
                    "fields": {
                        "ten_thiet_bi": {
                            "type": "select",
                            "label": "Tên thiết bị, dụng cụ",
                            "noneLabel": "",
                            "fieldClass": "ten-thiet-bi-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/XDD/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "ten_thiet_bi_text": {
                            "type": "text",
                            "label": "Tên"
                        },
                        "nhan_hieu": {
                            "type": "text",
                            "label": "Nhãn hiệu/ model"
                        },
                        "nuoc_san_xuat": {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "fieldClass": "nuoc-san-xuat-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "nuoc_san_xuat_text": {
                            "type": "text",
                            "label": "Nước sản xuất"
                        },
                        "so_luong": {
                            "type": "text",
                            "label": "Số lượng"
                        },
                        "tinh_trang": {
                            "type": "text",
                            "label": "Tình trạng"
                        },
                        "ngay_hieu_luc": {
                            "type": "text",
                            "label": "Ngày hiệu lực"
                        },
                        "ghi_chu": {
                            "type": "text",
                            "label": "Ghi chú",
                            "rows": "2"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_xe_cho_hang": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",
                "items": {
                    "fields": {
                        "ten_thiet_bi": {
                            "type": "select",
                            "label": "Tên thiết bị, dụng cụ",
                            "noneLabel": "",
                            "fieldClass": "ten-thiet-bi-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/XCH/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "ten_thiet_bi_text": {
                            "type": "text",
                            "label": "Tên"
                        },
                        "nhan_hieu": {
                            "type": "text",
                            "label": "Nhãn hiệu/ model"
                        },
                        "nuoc_san_xuat": {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "fieldClass": "nuoc-san-xuat-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "nuoc_san_xuat_text": {
                            "type": "text",
                            "label": "Nước sản xuất"
                        },
                        "so_luong": {
                            "type": "text",
                            "label": "Số lượng"
                        },
                        "tinh_trang": {
                            "type": "text",
                            "label": "Tình trạng"
                        },
                        "ngay_hieu_luc": {
                            "type": "text",
                            "label": "Ngày hiệu lực"
                        },
                        "ghi_chu": {
                            "type": "text",
                            "label": "Ghi chú",
                            "rows": "2"
                        }
                    }
                }
            },
            "thiet_bi_kiem_tra_xe_cho_nguoi": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",
                "items": {
                    "fields": {
                        "ten_thiet_bi": {
                            "type": "select",
                            "label": "Tên thiết bị, dụng cụ",
                            "noneLabel": "",
                            "fieldClass": "ten-thiet-bi-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/XCN/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "ten_thiet_bi_text": {
                            "type": "text",
                            "label": "Tên"
                        },
                        "nhan_hieu": {
                            "type": "text",
                            "label": "Nhãn hiệu/ model"
                        },
                        "nuoc_san_xuat": {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "fieldClass": "nuoc-san-xuat-select",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemCode'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "nuoc_san_xuat_text": {
                            "type": "text",
                            "label": "Nước sản xuất"
                        },
                        "so_luong": {
                            "type": "text",
                            "label": "Số lượng"
                        },
                        "tinh_trang": {
                            "type": "text",
                            "label": "Tình trạng"
                        },
                        "ngay_hieu_luc": {
                            "type": "text",
                            "label": "Ngày hiệu lực"
                        },
                        "ghi_chu": {
                            "type": "text",
                            "label": "Ghi chú",
                            "rows": "2"
                        }
                    }
                }
            },
            "loai_hinh_danh_gia": {
                "id": "loai_hinh_danh_gia",
                "type": "text"
            },
            "ma_so_tai_khoan": {
                "id": "ma_so_tai_khoan",
                "type": "text"
            },
            "phan_nhom_1": {
                "id": "phan_nhom_1",
                "name": "phan_nhom_1",
                "type": "json"
            },
            "phan_nhom_2": {
                "id": "phan_nhom_2",
                "name": "phan_nhom_2",
                "type": "json"
            },
            "phan_nhom_3": {
                "id": "phan_nhom_3",
                "name": "phan_nhom_3",
                "type": "json"
            },
            "phan_nhom_4": {
                "id": "phan_nhom_4",
                "name": "phan_nhom_4",
                "type": "json"
            },
            "phan_nhom_5": {
                "id": "phan_nhom_5",
                "name": "phan_nhom_5",
                "type": "json"
            },
            "phan_nhom_6": {
                "id": "phan_nhom_6",
                "name": "phan_nhom_6",
                "type": "json"
            },
            "yeu_cau_1": {
                "id": "yeu_cau_1",
                "name": "yeu_cau_1",
                "type": "json"
            },
            "yeu_cau_2": {
                "id": "yeu_cau_2",
                "name": "yeu_cau_2",
                "type": "json"
            },
            "yeu_cau_3": {
                "id": "yeu_cau_3",
                "name": "yeu_cau_3",
                "type": "json"
            },
            "yeu_cau_4": {
                "id": "yeu_cau_4",
                "name": "yeu_cau_4",
                "type": "json"
            },
            "yeu_cau_5": {
                "id": "yeu_cau_5",
                "name": "yeu_cau_5",
                "type": "json"
            },
            "yeu_cau_6": {
                "id": "yeu_cau_6",
                "name": "yeu_cau_6",
                "type": "json"
            },
            "dang_kiem_vien_1": {
                "id": "dang_kiem_vien_1",
                "type": "text"
            },
            "dang_kiem_vien_2": {
                "id": "dang_kiem_vien_2",
                "type": "text"
            },
            "tu_ngay": {
                "id": "tu_ngay",
                "type": "date"
            },
            "den_ngay": {
                "id": "den_ngay",
                "type": "date"
            },
            "dai_dien_cssx": {
                "type": "text",
                "id": "dai_dien_cssx"
            },
            "so_bao_cao_cop": {
                "id": "so_bao_cao_cop",
                "type": "text"
            },
            "ten_doanh_nghiep": {
                "id": "ten_doanh_nghiep",
                "type": "text"
            },
            "dia_chi_chinh_doanh_nghiep": {
                "id": "dia_chi_chinh_doanh_nghiep",
                "type": "text"
            },
            "ma_so_doanh_nghiep": {
                "id": "ma_so_doanh_nghiep",
                "type": "text"
            },
            "so_dien_thoai_doanh_nghiep": {
                "type": "text",
                "id": "so_dien_thoai_doanh_nghiep"
            },
            "so_fax_doanh_nghiep": {
                "type": "text",
                "id": "so_fax_doanh_nghiep"
            },
            "email_doanh_nghiep": {
                "type": "text",
                "id": "email_doanh_nghiep"
            },
            "web_doanh_nghiep": {
                "type": "text",
                "id": "web_doanh_nghiep"    
            },
            "nguoi_dai_dien_doanh_nghiep": {
                "type": "text",
                "id": "nguoi_dai_dien_doanh_nghiep"
            },
            "chuc_danh_dai_dien_doanh_nghiep": {
                "type": "text",
                "id": "chuc_danh_dai_dien_doanh_nghiep"
            },
            "dien_thoai_dai_dien_doanh_nghiep": {
                "type": "text",
                "id": "dien_thoai_dai_dien_doanh_nghiep"
            },
            "loai_hinh_doanh_nghiep": {
                "type": "text",
                "id": "loai_hinh_doanh_nghiep"
            },
            "linh_vuc_hoat_dong": {
                "id": "linh_vuc_hoat_dong",
                "name": "linh_vuc_hoat_dong",
                "type": "checkbox",
                "optionLabels": ["  SXLR trong nước"," Nhập khẩu","BHBD ","Thiết kế"]
            },
            "loai_hinh_san_xuat_text": {
                "type": "text",
                "id": "loai_hinh_san_xuat_text"
            },
            "ten_co_so": {
                "type": "text",
                "id": "ten_co_so"
            },
            "dia_chi_co_so": {
                "type": "text",
                "id": "dia_chi_co_so"
            },
            "ten_xuong_san_xuat": {
                "type": "text",
                "id": "ten_xuong_san_xuat"
            },
            "dia_chi_xuong_san_xuat": {
                "type": "text",
                "id": "dia_chi_xuong_san_xuat"
            },
            "ma_so_xuong": {
                "type": "text",
                "id": "ma_so_xuong"
            },
            "email_xuong": {
                "type": "text",
                "id": "email_xuong"
            },
            "website_xuong": {
                "type": "text",
                "id": "website_xuong"
            },
            "nguoi_dai_dien_xuong": {
                "type": "text",
                "id": "nguoi_dai_dien_xuong"
            },
            "chuc_danh_dai_dien_xuong": {
                "type": "text",
                "id": "chuc_danh_dai_dien_xuong"
            },
            "nguoi_lien_he_xuong": {
                "type": "text",
                "id": "nguoi_lien_he_xuong",
                "name": "nguoi_lien_he_xuong"
            },
            "sdt_nguoi_lien_he_xuong": {
                "type": "text",
                "id": "sdt_nguoi_lien_he_xuong",
                "name": "sdt_nguoi_lien_he_xuong"
            },
            "nguoi_lien_he": {
                "type": "text",
                "id": "nguoi_lien_he"
            },
            "sdt_nguoi_lien_he": {
                "type": "text",
                "id": "sdt_nguoi_lien_he"
            },
            "loai_hinh_san_xuat": {
                "type": "select",
                "id": "loai_hinh_san_xuat",
				"noneLabel": "--- Chọn ---",
                "dataSource": function(callback) {
                        $.ajaxSetup({
                          headers : {   
                            'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                          }
                        });
                        $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups?sort=groupName', function(response) {
                            var reviewArray = [];
                            $.each(response, function(key,obj){
                                if(key == 'data'){
                                    $.each (obj, function(k,v){
                                        var sub_key = v['groupCode'];
                                        var sub_val = v['groupName'];
                                        reviewArray.push({
                                            "value": sub_key.toString(),
                                            "text": sub_val
                                        })
                                    });
                                }
                            });
                            callback(reviewArray);
                        });
                    
                }	
            },
            "loai_san_pham_xuong": {
                "toolbarSticky": true,
                "collapsed": false,
                "type": "table",				
                "items": {
                    "fields": {
                        "sp_XCG01050": {
                            "type": "text",
                            "label": "code sp"
                        },
                        "loai_hinh_sxlr_XCG01050": {
                            "type": "text",
                            "label": "code"
                        },
                        "code_nhan_hieu": {
                            "type": "text",
                            "label": "code nhãn hiệu"
                        },
                        "code_sp_XCG01050": {
                            "type": "select",
                            "label": "Loại sản phẩm",
                            "noneLabel": "",
                            "fieldClass": "loai-san-pham-select",
                            "datasource": function(callback) {
                                /*nhom_='';
                                $('#column-loai_hinh_san_xuat').find('input:checkbox').each(function(){
                                    vl = $(this).attr('data-checkbox-value');
                                    if($(this).prop('checked')){
                                        if(nhom_ != '') nhom_+=',';
                                        nhom_+=vl;
                                        
                                    }
                                });
								if(nhom_=='') nhom_ = '0';*/
								var nhom_ = $('#loai_hinh_san_xuat').val();
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                //$.getJSON('/o/rest/v2/dictcollections/VR02/dictitems', function(response) {
                                $.getJSON('/o/rest/vr-app/collections/VR02/'+nhom_+'/items', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'Items'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['key'];
                                                var sub_val = v['value'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                                
                            }
                        },
                        "code_loai_hinh_sxlr_XCG01050": {
                            "type": "select",
                            "label": "Loại hình SXLR",
                            "noneLabel": ""
                        },
                        "nhan_hieu": {
                            "type": "text",
                            "label": "Nhãn hiệu"
                        },
                        "ten_thuong_mai": {
                            "type": "text",
                            "label": "Tên thương mại"
                        },
                        "ky_hieu_thiet_ke": {
                            "type": "text",
                            "label": "Ký hiệu thiết kế"
                        },
                        "ghi_chu": {
                            "type": "text",
                            "label": "Mô tả chi tiết"
                        }
                    }
                }
            },
            "cong_suat_thiet_ke": {
                "type": "text",
                "id": "cong_suat_thiet_ke"
            },
            "cong_suat_san_xuat": {
                "type": "text",
                "id": "cong_suat_san_xuat"
            },
            "tong_so_nhan_luc": {
                "type": "text",
                "id": "tong_so_nhan_luc"
            },
            "tong_so_cong_nhan": {
                "type": "text",
                "id": "tong_so_cong_nhan"
            },
            "tong_so_can_bo": {
                "type": "text",
                "id": "tong_so_can_bo"
            },
            "tong_so_quan_ly": {
                "type": "text",
                "id": "tong_so_quan_ly"
            },
            "so_luong_nhan_vien": {
                "type": "text",
                "id": "so_luong_nhan_vien"
            },
            "danh_sach_nhan_vien" : {
               "type": "table",
               "items": {
                   "fields": {
                   }
               }
            },
            "tong_dien_tich_dat": {
                "type": "text",
                "id": "tong_dien_tich_dat"
            },
            "dien_tich_kho": {
                "type": "text",
                "id": "dien_tich_kho"
            },
            "dien_tich_khu_van_phong": {
                "type": "text",
                "id": "dien_tich_khu_van_phong"
            },
            "dien_tich_khu_vuc": {
                "type": "text",
                "id": "dien_tich_khu_vuc"
            },
            "thiet_bi_xuat_xuong": {
                "type": "table",
                   "items": {
                       "fields": {
						"name": {
                            "type": "select",
                            "label": "Tên thiết bị, dụng cụ",
                            "noneLabel": "",
                            "datasource": function(callback) {
								var nhom_ = $('#loai_hinh_san_xuat').val();
										
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/'+nhom_+'/dictitems', function(response) {
                                    var reviewArray = [];
                                    if(response.data){
										
										$.each(response.data, function(k,v){
											var sub_key = v['itemCode'];
											var sub_val = v['itemName'];
											reviewArray.push({
												"value": sub_key.toString(),
												"text": sub_val
											});

									  
										});
										
									} else {
										
									}
                                    callback(reviewArray);
                                });
							}
						},
                        "country" : {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemName'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        },
                        "status" : {
                            "type": "select",
                            "noneLabel": "",
                            "datasource": [
								{"text": " Đánh giá", "value": "1"},
								{"text": "Không đánh giá", "value": "0"}
							]
                        }
                       }
                   }
            },
            "hop_dong": {
                "type": "table",
                   "items": {
                       "fields": {
                       }
                   }
            },
            "khu_vuc_gia_cong": {
                "type": "select",
                "id": "khu_vuc_gia_cong",
				"removeDefaultNone": true,
				"datasource": [
					{"text": " Có", "value": "Có"},
					{"text": "Không", "value": "Không"}
				]
            },
            "khu_vuc_han": {
                "type": "select",
                "id": "khu_vuc_han",
				"removeDefaultNone": true,
				"datasource": [
					{"text": " Có", "value": "Có"},
					{"text": "Không", "value": "Không"}
				]
            },
            "khu_vuc_kiem_tra": {
                "type": "select",
                "id": "khu_vuc_kiem_tra",
				"removeDefaultNone": true,
				"datasource": [
					{"text": " Có", "value": "Có"},
					{"text": "Không", "value": "Không"}
				]
            },
            "khu_vuc_san_xuat": {
                "type": "select",
                "id": "khu_vuc_san_xuat",
				"removeDefaultNone": true,
				"datasource": [
					{"text": " Có", "value": "Có"},
					{"text": "Không", "value": "Không"}
				]
            },
            "khu_vuc_son": {
                "type": "select",
                "id": "khu_vuc_son",
				"removeDefaultNone": true,
				"datasource": [
					{"text": " Có", "value": "Có"},
					{"text": "Không", "value": "Không"}
				]
            },
            "khu_vuc_thu_nghiem": {
                "type": "select",
                "id": "khu_vuc_thu_nghiem",
				"removeDefaultNone": true,
				"datasource": [
					{"text": " Có", "value": "Có"},
					{"text": "Không", "value": "Không"}
				]
            },
            "thiet_bi_san_xuat" : {
               "type": "table",
               "items": {
                   "fields": {
                        "country" : {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemName'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        }
                   }
               }
            },
            "thiet_bi_dung_cu" : {
               "type": "table",
               "items": {
                   "fields": {
                        "country" : {
                            "type": "select",
                            "label": "Nước sản xuất",
                            "noneLabel": "",
                            "datasource": function(callback) {
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                $.getJSON('/o/rest/v2/dictcollections/VR04/dictitems', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'data'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['itemName'];
                                                var sub_val = v['itemName'];
                                                reviewArray.push({
                                                    "value": sub_key,
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                            }
                        }
                   }
               }
            },
            "danh_sach_san_pham" : {
               "type": "table",
               "items": {
                   "fields": {
					   "type": {
                            "type": "select",
                            "noneLabel": "",
                            "fieldClass": "danh-sach-san-pham-select select2",
                            "datasource": function(callback) {
                                /*nhom_='';
                                $('#column-loai_hinh_san_xuat').find('input:checkbox').each(function(){
                                    vl = $(this).attr('data-checkbox-value');
                                    if($(this).prop('checked')){
                                        if(nhom_ != '') nhom_+=',';
                                        nhom_+=vl;
                                        
                                    }
                                });
								if(nhom_=='') nhom_ = '0';*/
								var nhom_ = $('#loai_hinh_san_xuat').val();
								
                                $.ajaxSetup({
                                  headers : {   
                                    'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
                                  }
                                });
                                //$.getJSON('/o/rest/v2/dictcollections/VR02/dictitems', function(response) {
                                $.getJSON('/o/rest/vr-app/collections/VR02/'+nhom_+'/items', function(response) {
                                    var reviewArray = [];
                                    $.each(response, function(key,obj){
                                        if(key == 'Items'){
                                            $.each (obj, function(k,v){
                                                var sub_key = v['key'];
                                                var sub_val = v['value'];
                                                reviewArray.push({
                                                    "value": sub_key.toString(),
                                                    "text": sub_val
                                                })
                                            });
                                        }
                                    });
                                    callback(reviewArray);
                                });
                                
                            }
					   },
					   "cerNo" : {
                            "type": "select",
                            "noneLabel": "",
                            "fieldClass": "cerNo-select select2",
                            "datasource": function(callback) {
								var maso_taikhoan;
								var dossierId = $('#dossierId').val();
								
								$.ajax({
									headers: {"groupId": Liferay.ThemeDisplay.getScopeGroupId()},
									data: "",
									type: 'get',
									dataType: 'json',
									url: '/o/rest/v2/dossiers/' + dossierId,
									success: function(response) {
										maso_taikhoan = response.applicantIdNo;
										var nhom_ = $('#loai_hinh_san_xuat').val();
										var loai_ho_so_cop = $('#loai_ho_so_cop').val();
										
										if(loai_ho_so_cop == 'HN'){
											$.ajaxSetup({
											  headers : {   
												'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
											  }
											});
											//$.getJSON('/o/rest/v2/dictcollections/VR02/dictitems', function(response) {
											$.getJSON('/o/rest/vr-app/certificate/vehicleClass?applicantIdNo='+ maso_taikhoan +'&vehicleClass='+ nhom_ +'&expiredStatus=1', function(response) {
												var reviewArray = [];
												$.each(response, function(key,obj){
													if(key == 'data'){
														$.each (obj, function(k,v){
															var sub_key = v['certificateId'];
															var sub_val = v['certificateRecordNo'];
															reviewArray.push({
																"value": sub_key.toString(),
																"text": sub_val
															})
														});
													}
												});
												callback(reviewArray);
											});
										} else {
											var reviewArray = [];
											callback(reviewArray);
										}
									}
								});
								
								
                                
                            }
					   },   
					   "mark" : {
							"type": "text",
							"fieldClass": "mark-select"
					   }
                   }
               }
            },
            "danh_sach_tai_lieu" : {
               "type": "table",
               "items": {
                   "fields": {
                   }
               }
            },
            "list_nha_xuong": {
                "id": "list_nha_xuong",
                "name": "list_nha_xuong",
                "type": "select",
                "noneLabel": "",
                "hideNone": false 
            },
            "list_nha_xuong_hidden": {
                "id": "list_nha_xuong_hidden",
                "name": "list_nha_xuong_hidden",
                "type": "hidden"
            },
            "list_nha_xuong_text": {
                "id": "list_nha_xuong_text",
                "name": "list_nha_xuong_text",
                "type": "hidden"
            },
            "loai_ho_so_cop_text": {
                "id": "loai_ho_so_cop_text",
                "name": "loai_ho_so_cop_text",
                "type": "hidden"
            },
            "noi_dung_bo_sung": {
                "id": "noi_dung_bo_sung",
                "name": "noi_dung_bo_sung",
                "type": "text"
            },
            "loai_ho_so_cop": {
                "id": "loai_ho_so_cop",
                "name": "loai_ho_so_cop",
                "type": "select",
                "hideNone": true,
                "datasource": [
                    {"text":"","value":""},
                    {"text":"Lần đầu","value":"LD"},
                    {"text":"Bổ sung","value":"BS"},
                    {"text":"Định kỳ","value":"HN"}
                ]
            },
            "list_COP_TrongNuoc_NuocNgoai": {
                "id": "list_COP_TrongNuoc_NuocNgoai",
                "name": "list_COP_TrongNuoc_NuocNgoai",
                "type": "select",
                "noneLabel": "",
                "hideNone": false,
                "datasource": [
                    {"text":"Trong nước","value":"TN"},
                    {"text":"Nước ngoài","value":"NN"}
                ] 
            },
            "list_COP_TrongNuoc_NuocNgoai_hidden": {
                "id": "list_COP_TrongNuoc_NuocNgoai_hidden",
                "name": "list_COP_TrongNuoc_NuocNgoai_hidden",
                "type": "hidden"
            },
            "count": {
                "id": "count",
                "name": "count",
                "type": "hidden"
            },
			"trackChange_applicantAddress": {
				"type": "hidden",
				"id": "trackChange_applicantAddress"
			},
			"trackChange_applicantCode": {
				"type": "hidden",
				"id": "trackChange_applicantCode"
			},
			"trackChange_applicantRepresentative": {
				"type": "hidden",
				"id": "trackChange_applicantRepresentative"
			},
			"trackChange_applicantRepresentativeTitle": {
				"type": "hidden",
				"id": "trackChange_applicantRepresentativeTitle"
			},
			"trackChange_chuc_danh_dai_dien_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_chuc_danh_dai_dien_doanh_nghiep"
			},
			"trackChange_chuc_danh_dai_dien_xuong": {
				"type": "hidden",
				"id": "trackChange_chuc_danh_dai_dien_xuong"
			},
			"trackChange_cong_suat_san_xuat": {
				"type": "hidden",
				"id": "trackChange_cong_suat_san_xuat"
			},
			"trackChange_cong_suat_thiet_ke": {
				"type": "hidden",
				"id": "trackChange_cong_suat_thiet_ke"
			},
			"trackChange_danh_sach_nhan_vien": {
				"type": "hidden",
				"id": "trackChange_danh_sach_nhan_vien"
			},
			"trackChange_danh_sach_san_pham": {
				"type": "hidden",
				"id": "trackChange_danh_sach_san_pham"
			},
			"trackChange_danh_sach_tai_lieu": {
				"type": "hidden",
				"id": "trackChange_danh_sach_tai_lieu"
			},
			"trackChange_dia_chi_chinh_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_dia_chi_chinh_doanh_nghiep"
			},
			"trackChange_dia_chi_co_so": {
				"type": "hidden",
				"id": "trackChange_dia_chi_co_so"
			},
			"trackChange_dia_chi_xuong_san_xuat": {
				"type": "hidden",
				"id": "trackChange_dia_chi_xuong_san_xuat"
			},
			"trackChange_dien_thoai_dai_dien_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_dien_thoai_dai_dien_doanh_nghiep"
			},
			"trackChange_dien_tich_kho": {
				"type": "hidden",
				"id": "trackChange_dien_tich_kho"
			},
			"trackChange_dien_tich_khu_van_phong": {
				"type": "hidden",
				"id": "trackChange_dien_tich_khu_van_phong"
			},
			"trackChange_dien_tich_khu_vuc": {
				"type": "hidden",
				"id": "trackChange_dien_tich_khu_vuc"
			},
			"trackChange_dossierNoPattern": {
				"type": "hidden",
				"id": "trackChange_dossierNoPattern"
			},
			"trackChange_email_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_email_doanh_nghiep"
			},
			"trackChange_email_xuong": {
				"type": "hidden",
				"id": "trackChange_email_xuong"
			},
			"trackChange_khu_vuc_gia_cong": {
				"type": "hidden",
				"id": "trackChange_khu_vuc_gia_cong"
			},
			"trackChange_khu_vuc_han": {
				"type": "hidden",
				"id": "trackChange_khu_vuc_han"
			},
			"trackChange_khu_vuc_kiem_tra": {
				"type": "hidden",
				"id": "trackChange_khu_vuc_kiem_tra"
			},
			"trackChange_khu_vuc_san_xuat": {
				"type": "hidden",
				"id": "trackChange_khu_vuc_san_xuat"
			},
			"trackChange_khu_vuc_son": {
				"type": "hidden",
				"id": "trackChange_khu_vuc_son"
			},
			"trackChange_khu_vuc_thu_nghiem": {
				"type": "hidden",
				"id": "trackChange_khu_vuc_thu_nghiem"
			},
			"trackChange_loai_hinh_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_loai_hinh_doanh_nghiep"
			},
			"trackChange_loai_hinh_san_xuat": {
				"type": "hidden",
				"id": "trackChange_loai_hinh_san_xuat"
			},
			"trackChange_loai_ho_so_cop": {
				"type": "hidden",
				"id": "trackChange_loai_ho_so_cop"
			},
			"trackChange_loai_san_pham_xuong": {
				"type": "hidden",
				"id": "trackChange_loai_san_pham_xuong"
			},
			"trackChange_ma_so_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_ma_so_doanh_nghiep"
			},
			"trackChange_ma_so_tai_khoan": {
				"type": "hidden",
				"id": "trackChange_ma_so_tai_khoan"
			},
			"trackChange_ma_so_xuong": {
				"type": "hidden",
				"id": "trackChange_ma_so_xuong"
			},
			"trackChange_nguoi_dai_dien_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_nguoi_dai_dien_doanh_nghiep"
			},
			"trackChange_nguoi_dai_dien_xuong": {
				"type": "hidden",
				"id": "trackChange_nguoi_dai_dien_xuong"
			},
			"trackChange_nguoi_lien_he": {
				"type": "hidden",
				"id": "trackChange_nguoi_lien_he"
			},
            "trackChange_nguoi_lien_he_xuong": {
                "type": "hidden",
                "id": "trackChange_nguoi_lien_he_xuong"
            },
            "trackChange_sdt_nguoi_lien_he_xuong": {
                "type": "hidden",
                "id": "trackChange_sdt_nguoi_lien_he_xuong"
            },
			"trackChange_productionPlantAddress": {
				"type": "hidden",
				"id": "trackChange_productionPlantAddress"
			},
			"trackChange_productionPlantCode": {
				"type": "hidden",
				"id": "trackChange_productionPlantCode"
			},
			"trackChange_productionPlantName": {
				"type": "hidden",
				"id": "trackChange_productionPlantName"
			},
			"trackChange_sdt_nguoi_lien_he": {
				"type": "hidden",
				"id": "trackChange_sdt_nguoi_lien_he"
			},
			"trackChange_so_dien_thoai_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_so_dien_thoai_doanh_nghiep"
			},
			"trackChange_so_fax_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_so_fax_doanh_nghiep"
			},
			"trackChange_so_luong_nhan_vien": {
				"type": "hidden",
				"id": "trackChange_so_luong_nhan_vien"
			},
			"trackChange_so_tham_chieu": {
				"type": "hidden",
				"id": "trackChange_so_tham_chieu"
			},
			"trackChange_ten_co_so": {
				"type": "hidden",
				"id": "trackChange_ten_co_so"
			},
			"trackChange_ten_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_ten_doanh_nghiep"
			},
			"trackChange_ten_xuong_san_xuat": {
				"type": "hidden",
				"id": "trackChange_ten_xuong_san_xuat"
			},
			"trackChange_thiet_bi_dung_cu": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_dung_cu"
			},
			"trackChange_thiet_bi_kiem_tra_chinh": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_kiem_tra_chinh"
			},
			"trackChange_thiet_bi_kiem_tra_lk_oto": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_kiem_tra_lk_oto"
			},
			"trackChange_thiet_bi_kiem_tra_lk_xe_may": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_kiem_tra_lk_xe_may"
			},
			"trackChange_thiet_bi_kiem_tra_ro_mooc": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_kiem_tra_ro_mooc"
			},
			"trackChange_thiet_bi_kiem_tra_xe_cho_hang": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_kiem_tra_xe_cho_hang"
			},
			"trackChange_thiet_bi_kiem_tra_xe_cho_nguoi": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_kiem_tra_xe_cho_nguoi"
			},
			"trackChange_thiet_bi_kiem_tra_xe_dap": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_kiem_tra_xe_dap"
			},
			"trackChange_thiet_bi_kiem_tra_xe_may": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_kiem_tra_xe_may"
			},
			"trackChange_thiet_bi_san_xuat": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_san_xuat"
			},
			"trackChange_thiet_bi_san_xuat_chinh": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_san_xuat_chinh"
			},
			"trackChange_thiet_bi_xuat_xuong": {
				"type": "hidden",
				"id": "trackChange_thiet_bi_xuat_xuong"
			},
			"trackChange_hop_dong": {
				"type": "hidden",
				"id": "trackChange_hop_dong"
			},
			"trackChange_tong_dien_tich_dat": {
				"type": "hidden",
				"id": "trackChange_tong_dien_tich_dat"
			},
			"trackChange_tong_so_can_bo": {
				"type": "hidden",
				"id": "trackChange_tong_so_can_bo"
			},
			"trackChange_tong_so_quan_ly": {
				"type": "hidden",
				"id": "trackChange_tong_so_quan_ly"
			},
			"trackChange_tong_so_cong_nhan": {
				"type": "hidden",
				"id": "trackChange_tong_so_cong_nhan"
			},
			"trackChange_tong_so_nhan_luc": {
				"type": "hidden",
				"id": "trackChange_tong_so_nhan_luc"
			},
			"trackChange_vr_COPProductType": {
				"type": "hidden",
				"id": "trackChange_vr_COPProductType"
			},
			"trackChange_vr_COPProductionPlantEmployee": {
				"type": "hidden",
				"id": "trackChange_vr_COPProductionPlantEmployee"
			},
			"trackChange_vr_COPProductionPlantEquipment": {
				"type": "hidden",
				"id": "trackChange_vr_COPProductionPlantEquipment"
			},
			"trackChange_vr_COPProductionPlantProdEquipment": {
				"type": "hidden",
				"id": "trackChange_vr_COPProductionPlantProdEquipment"
			},
			"trackChange_vr_COPReport_Attach": {
				"type": "hidden",
				"id": "trackChange_vr_COPReport_Attach"
			},
			"trackChange_web_doanh_nghiep": {
				"type": "hidden",
				"id": "trackChange_web_doanh_nghiep"
			},
			"trackChange_website_xuong": {
				"type": "hidden",
				"id": "trackChange_website_xuong"
			},
			"markupCorporation": {
				"type": "hidden",
				"id": "markupCorporation"
			},
			"markupDesigner": {
				"type": "hidden",
				"id": "markupDesigner"
			},
			"markupDomesticsManufacturer": {
				"type": "hidden",
				"id": "markupDomesticsManufacturer"
			},
			"markupOverseasManufacturer": {
				"type": "hidden",
				"id": "markupOverseasManufacturer"
			},
			"dossierStatus": {
				"type": "hidden",
				"id": "dossierStatus"
			},
           "initEvent" : {
                "id": "initEvent",
                "name": "initEvent",
                "type": "hidden",
                "validateData": function(validateDataForm) {
                    validateDataForm = true;

                    return validateDataForm;
                },
                "events": {
                    "ready": function() {
                        $("#ten_doanh_nghiep").css("pointer-events", "none");
                        $("#ttI").css("pointer-events", "none");
                        $("#ttII").css("pointer-events", "none");
                        $("#column-loai_ho_so_cop").css("pointer-events", "all");
                        $("#column-list_COP_TrongNuoc_NuocNgoai").css("pointer-events", "all");
                        $("#column-list_nha_xuong").css("pointer-events", "all");
                        $("#column-linh_vuc_hoat_dong").css("pointer-events", "all");
                        $("#column-nguoi_lien_he_xuong").css("pointer-events", "all");
                        $("#column-sdt_nguoi_lien_he_xuong").css("pointer-events", "all");

                        $('#column-linh_vuc_hoat_dong .checkbox').addClass('col-sm-3 col-xs-12');
                        $('#column-linh_vuc_hoat_dong .checkbox').css('margin-top', '0px');
                        $('#column-linh_vuc_hoat_dong .checkbox').css('margin-bottom', '10px');
						$('#column-linh_vuc_hoat_dong input:checkbox').attr("disabled", true);
						//$('#loai_ho_so_cop').attr("disabled", true);
						$('#column-nguoi_lien_he').css('pointer-events', 'all');
						$('#column-sdt_nguoi_lien_he').css('pointer-events', 'all');
						$('#loai_ho_so_cop_text').val($('#loai_ho_so_cop option:selected').text());
						
						var bindIdtbxx = function(dossierId, mtCore){
							$.ajaxSetup({
							  headers : {   
								'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
							  }
							});
							$.getJSON('/o/rest/vr-app/cop/productionplant/prodequipment/'+ dossierId +'/'+ mtCore, function(response) {
								if($('#count').val() == 0){
									var control = $("#formPartNoTP1").alpaca("get");
									var data = control.getValue();
									console.log('before___', data['thiet_bi_xuat_xuong']);
									if(response.total == 0){
										data['thiet_bi_xuat_xuong'] = [{}];
									} else {
										data['thiet_bi_xuat_xuong'] = response.data;
										
									}
									console.log('after___', data['thiet_bi_xuat_xuong']);
									control.setValue(data);	
								}														
							});
						}
						
						var removeElement = function(array, element) {
							var index = array.indexOf(element);
							if (index > -1) {
								array.splice(index, 1);
							}
						}
						
						var dossierId = $('#dossierId').val();
						var var_partNo = 'TP1';
						var dossierIdCTN;
						var lastestFormdata;
						var nextFormdata;
						var jsonBegin;
						var keyBegin;
						var jsonCurrent;
						var keyCurrent;
						var indexBegin = 0;
						var keyTrack = new Array();	
						var trackStatus = 0;
						var lnx;
						var dossierStatus;
						
						var getXCG050 = function(nhom, idsp, idnh, sp, nh){
							$.ajaxSetup({
							  headers : {   
								'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
							  }
							});
							$.getJSON('/o/rest/vr-app/collections/VR02/'+nhom+'/items', function(response) {
								$('#' + idsp).find('option').remove().end();
								$('#' + idsp).append(new Option('	', ''));
								$.each(response.Items, function(key,obj){
									$('#' + idsp).append(new Option(obj['value'], obj['key']));
								});
								$('#' + idsp).val(sp).change();
																
							});

							if(nhom == 'XCG' || nhom == 'XBB' || nhom == 'XCD' || nhom == 'XMY' || nhom == 'XDD' || nhom == 'SMRM' || nhom == 'XCGNK'){
								setTimeout(function () {
									$('#' + idnh).next().val(nh).change();
									$('#' + idnh).next().select2();
								}, 5000);
							} else {
								$('#' + idnh).val(nh);
							}
						}
						
						var getDSSP = function(nhom, idsp, idnh, idgp, sp, nh, gp){
							
							$.ajaxSetup({
							  headers : {   
								'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
							  }
							});
							$.getJSON('/o/rest/vr-app/collections/VR02/'+nhom+'/items', function(response) {
								$('#' + idsp).find('option').remove().end();
								$('#' + idsp).append(new Option('	', ''));
								$.each(response.Items, function(key,obj){
									$('#' + idsp).append(new Option(obj['value'], obj['key']));
								});
								$('#' + idsp).val(sp).change();
								
								if(nhom == 'XCG' || nhom == 'XBB' || nhom == 'XCD' || nhom == 'XMY' || nhom == 'XDD' || nhom == 'SMRM' || nhom == 'XCGNK'){
									setTimeout(function () {
										$('#' + idnh).next().val(nh).change();
										$('#' + idnh).next().select2();
									}, 5000);
								} else {
									$('#' + idnh).val(nh);
								}						
							});
							
							var loai_ho_so_cop = $('#loai_ho_so_cop').val();
										
							if(loai_ho_so_cop == 'HN'){
								$.ajax({
									headers: {"groupId": Liferay.ThemeDisplay.getScopeGroupId()},
									data: "",
									type: 'get',
									dataType: 'json',
									url: '/o/rest/v2/dossiers/' + dossierId,
									success: function(response) {
										maso_taikhoan = response.applicantIdNo;
										$.ajaxSetup({
										  headers : {   
											'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
										  }
										});
										//$.getJSON('/o/rest/v2/dictcollections/VR02/dictitems', function(response) {
										$.getJSON('/o/rest/vr-app/certificate/vehicleClass?applicantIdNo='+ maso_taikhoan +'&vehicleClass='+ nhom +'&expiredStatus=1', function(response) {
											$('#' + idgp).find('option').remove().end();
											$('#' + idgp).append(new Option('	', ''));
											$.each(response, function(key,obj){
												if(key == 'data'){
													$.each(obj, function(k,v){
														$('#' + idgp).append(new Option(v['certificateRecordNo'], v['certificateId']));
													});
												}
											});

											setTimeout(function () {
												$('#' + idgp).val(gp).change();
											}, 5000);		
										});
									}
								});
							}
							
							
						}
							
						var getThietbi = function(nhom, id, value){
							$.ajaxSetup({
							  headers : {   
								'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
							  }
							});
							$.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/'+nhom+'/dictitems', function(response) {
								$('#' + id).find('option').remove().end();
								$('#' + id).append(new Option('	', ''));
								$.each(response.data, function(key,obj){
									$('#' + id).append(new Option(obj['itemName'], obj['itemCode']));
								});
								setTimeout(function () {
									$('#' + id).val(value).change();
								}, 2000);						
							});
							
						}
							
						var getCurrent = function(response){
							$.ajax({
								headers: {"groupId": Liferay.ThemeDisplay.getScopeGroupId()},
								data: "",
								type: 'get',
								dataType: 'json',
								url: '/o/rest/v2/dossiers/' + dossierId + '/files',
								success: function(response) {
									var data = response.data;
									$.each(data, function(k, v){
										var data = response.data;
										var newestDate;
										var sequenceDate
										$.each(data, function(k, v){
											if(v.dossierPartNo == 'TP1'){
												newestDate = new Date(v.createDate);
												sequenceDate = k;
											}
										});
										$.each(data, function(k, v){
											var compareDate = new Date(v.createDate);
											if(compareDate > newestDate && v.dossierPartNo == 'TP1'){
												newestDate = new Date(v.createDate);
												sequenceDate = k;
											}
										});
										jsonCurrent = JSON.parse(data[sequenceDate].formData.replace(/[\u0000-\u0019]+/g,""));
										var lnx = jsonCurrent['list_nha_xuong'];
										var tnnn = jsonCurrent['list_COP_TrongNuoc_NuocNgoai'];
										var lhsx = jsonCurrent['loai_hinh_san_xuat'];
										var lspx = jsonCurrent['loai_san_pham_xuong'];
										var dssp = jsonCurrent['danh_sach_san_pham'];
										var tbxx = jsonCurrent['thiet_bi_xuat_xuong'];
										var cltb = jsonCurrent['chon_loai_thiet_bi'];

										if($('#count').val() == 1){
											//checkCOP_TrongNuoc_NuocNgoai();

											//$('input[type="radio"][name="chon_loai_thiet_bi"][value="' + cltb + '"]').click();
											$('#list_COP_TrongNuoc_NuocNgoai').val(tnnn).trigger('change');
											setTimeout(function () {
												$.each(cltb, function(k, v){
													$('#column-chon_loai_thiet_bi input[type="checkbox"][data-checkbox-value="' + v + '"]').click();
												});
												$('#list_nha_xuong').val(lnx).trigger('change');
											}, 5000);
											
											for(i = 0; i <lspx.length; i++){
												var idsp = $('select[name=loai_san_pham_xuong_' + i + '_code_sp_XCG01050').attr('id');
												var idnh = $('input[name=loai_san_pham_xuong_' + i + '_nhan_hieu').attr('id');
												var sp = lspx[i].code_sp_XCG01050;
												var nh = lspx[i].code_nhan_hieu;
												getXCG050(lhsx, idsp, idnh, sp, nh);
												
												/*setTimeout(function () {
													$('#' + id2).val(lspx[i].code_nhan_hieu).change();
												}, 2000);*/
											}
											
											for(i = 0; i <dssp.length; i++){
												var idsp = $('select[name=danh_sach_san_pham_' + i + '_type').attr('id');
												var idnh = $('input[name=danh_sach_san_pham_' + i + '_mark').attr('id');
												var idgp = $('select[name=danh_sach_san_pham_' + i + '_cerNo').attr('id');
												var sp = dssp[i].type;
												var nh = dssp[i].code_mark;
												var gp = dssp[i].cerNo;
												getDSSP(lhsx, idsp, idnh, idgp, sp, nh, gp);
												//$('#' + idnh).css('padding-top', '20px');
												
												/*setTimeout(function () {
													$('#' + id2).val(lspx[i].code_nhan_hieu).change();
												}, 2000);*/
											}
											
											for(l = 0; l <tbxx.length; l++){
												var idtbxx = $('select[name=thiet_bi_xuat_xuong_' + l + '_name').attr('id');
												var valuetbxx = tbxx[l].name;
												
												getThietbi(lhsx, idtbxx, valuetbxx);
												
											}
										}
									});
								}
							});
						}
							
						var getCTN = function(response){
							$.ajax({
								headers: {"groupId": Liferay.ThemeDisplay.getScopeGroupId()},
								data: "",
								type: 'get',
								dataType: 'json',
								url: '/o/rest/v2/dossiers/' + dossierId,
								success: function(response) {
									dossierIdCTN = response.dossierIdCTN;
									dossierStatus = response.dossierStatus;
									if(dossierStatus == ''){
										
									} else {
										//bindIdtbxx(dossierId, 1);
									}
									bindIdtbxx(dossierId, 1);
									getLastestData();
								}
							});
						}
						
						//getCurrent();
						//getCTN();
							
						var getLastestData = function(response){
							$.ajax({
								headers: {"groupId": Liferay.ThemeDisplay.getScopeGroupId()},
								data: "",
								type: 'get',
								dataType: 'json',
								url: '/o/rest/vr-app/trackchanges/dossier?dossieridctn=' + dossierIdCTN + '&contentfiletemplate=' + var_partNo,
								success: function(response) {
									if(response){
										lastestFormdata = response.previousContentFileEntryId;
										nextFormdata = response.nextContentFileEntryId;
										if(lastestFormdata != '0') {
											$('#btn-trackChange').show();
											$('#btn-trackChange').click(function(){
												if(trackStatus == 0){
													$('#btn-trackChange').text('Ẩn thay đổi');
													trackStatus = 1;
													jsonBegin = JSON.parse(lastestFormdata.replace(/[\u0000-\u0019]+/g,""));
													keyBegin = Object.keys(jsonBegin);
													keyCurrent= Object.keys(jsonCurrent);
													var jsonCheck = Object.keys(jsonCurrent);
													var jsonTrack = {};
													var jsonSame = {};
													var dem = 0;
													
													$.each(keyCurrent, function(k, v){
														var idd = keyCurrent[k];
														$.each(keyBegin, function(m, n){
															var idd2 = keyBegin[m];
															if(idd2 == idd){
																if(jsonBegin[idd2] == jsonCurrent[idd]){
																	removeElement(jsonCheck, idd);
																	jsonSame[dem] = idd;
																	dem++;
																}
																if(idd.includes('phan_nhom') || idd.includes('yeu_cau')){
																	removeElement(jsonCheck, idd);
																}
															}
														});
														
														if(k == keyCurrent.length - 1){
															$.each(jsonSame, function(c, d){
																$('#' + d).parent().parent().parent().parent().parent().find('.content-label').css('background-color','white');
															});
															removeElement(jsonCheck, 'applicantName');
															
															$.each(jsonCheck, function(a, b){
																if(b.includes('trackChange_') || b.includes('_text')){
														
																} else {
																	$('#' + b).parent().parent().parent().parent().parent().find('.content-label').css('background-color', 'yellow');
																}
															});
														}
													});
												} else {
													$('#btn-trackChange').text('Xem thay đổi lần trước');
													trackStatus = 0;
													$('#formPartNo' + var_partNo).find('.content-label').css('background-color', 'white');
												}
											});
										}
										//callback(response);
									}
								}
							});
						}
										
						$("#formPartNoTP1").delegate('#loai_ho_so_cop', "change", function(){
							if($('#loai_ho_so_cop').val() == 'BS'){
								$('#column-noi_dung_bo_sung').parent().show();
							} else {
								$('#column-noi_dung_bo_sung').parent().hide();
								$('#noi_dung_bo_sung').val('');
							}
						});
						
                        var control = $("#formPartNoTP1").alpaca("get").getValue();
                        var listLKXCG;
                        var listLKXM;
                        var listRM;
                        var listXM;
                        var listXDD;
                        var listOTO;
                        var listXCH;
                        var listXCN;
                        var obj;
                        var listLHSX;
                        var plantId = '';
                        var plantCode = '';
                        $('div[name="loai_hinh_san_xuat"]').addClass('lhsx');
                        $('.lhsx').hide();
                        var maso_taikhoan = $('#ma_so_tai_khoan').val();
                        var initEvent = $('#initEvent').val();
                        $('.style-dklr-form').find('select').addClass('my-select');
                        $('.my-select').select2();

                        $('#title_I').click(function () {
                            if ($('#ttI').is(":visible")) {
                                $('#ttI').hide();
                            } else {
                                $('#ttI').show();
                            }
                        });

                        $('#title_II').click(function () {
                            if ($('#ttII').is(":visible")) {
                                $('#ttII').hide();
                            } else {
                                $('#ttII').show();
                            }
                        });
						
                        $('#title_III').click(function () {
                            if ($('#ttIII').is(":visible")) {
                                $('#ttIII').hide();
                            } else {
                                $('#ttIII').show();
                            }
                        });

                        $('#title_IV').click(function () {
                            if ($('#ttIV').is(":visible")) {
                                $('#ttIV').hide();
                            } else {
                                $('#ttIV').show();
                            }
                        });
							
                        $('#title_V').click(function () {
                            if ($('#ttV').is(":visible")) {
                                $('#ttIV').hide();
                            } else {
                                $('#ttV').show();
                            }
                        });
						var getMarkup = function(response){
							$.ajax({
								headers: {"groupId": Liferay.ThemeDisplay.getScopeGroupId()},
								data: "",
								type: 'get',
								dataType: 'json',
								url: '/o/rest/vr-app/applicant/profile/' + maso_taikhoan,
								success: function(response) {
									var markupCorporation = response.markupCorporation;
									var markupDesigner = response.markupDesigner;
									var markupDomesticsManufacturer = response.markupDomesticsManufacturer;
									var markupOverseasManufacturer = response.markupOverseasManufacturer;
									
									$('#column-linh_vuc_hoat_dong').find('input:checkbox').each(function(){
										vl = $(this).attr('data-checkbox-value');
										if(vl == '1'){
											if(markupCorporation == "1"){
												$(this).prop("checked", true);
												$('#markupCorporation').val("1");
											} else {
												$('#markupCorporation').val("0");
											}
										}
										if(vl == '2'){
											if(markupDesigner == "1"){
												$(this).prop("checked", true);
												$('#markupDesigner').val("1");
											} else {
												$('#markupDesigner').val("0");
											}
										}
										if(vl == '3'){
											if(markupDomesticsManufacturer == "1"){
												$(this).prop("checked", true);
												$('#markupDomesticsManufacturer').val("1");
											} else {
												$('#markupDomesticsManufacturer').val("0");
											}
										}
										if(vl == '4'){
											if(markupOverseasManufacturer == "1"){
												$(this).prop("checked", true);
												$('#markupOverseasManufacturer').val("1");
											} else {
												$('#markupOverseasManufacturer').val("0");
											}
										}
									});
								}
							});
						}

                        var getLKXCG = function () {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/dictitem/search?dictgroupname=LKXCG&groupid=55301&collectioncode=VR84&start=-1&end=-1',
                                success: function (response) {
                                    listLKXCG = response.data;

                                    for (var i = 0; i < listLKXCG.length; i++) {
                                        control['thiet_bi_kiem_tra_lk_oto'].push({ "ten_thiet_bi": listLKXCG[i].opencps_dictitem_itemcode.toString() });
                                    }
                                }

                            });
                        }
						
                        var getLKXM = function () {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/dictitem/search?dictgroupname=LKXMY&groupid=55301&collectioncode=VR84&start=-1&end=-1',
                                success: function (response) {
                                    listLKXM = response.data;

                                    for (var i = 0; i < listLKXM.length; i++) {
                                        control['thiet_bi_kiem_tra_lk_xe_may'].push({ "ten_thiet_bi": listLKXM[i].opencps_dictitem_itemcode.toString() });
                                    }
                                }

                            });
                        }

                        var getRM = function () {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/dictitem/search?dictgroupname=SMRM&groupid=55301&collectioncode=VR84&start=-1&end=-1',
                                success: function (response) {
                                    listRM = response.data;

                                    for (var i = 0; i < listRM.length; i++) {
                                        control['thiet_bi_kiem_tra_ro_mooc'].push({ "ten_thiet_bi": listRM[i].opencps_dictitem_itemcode.toString() });
                                    }
                                }

                            });
                        }

                        var getXM = function () {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/dictitem/search?dictgroupname=XMY&groupid=55301&collectioncode=VR84&start=-1&end=-1',
                                success: function (response) {
                                    listXM = response.data;

                                    for (var i = 0; i < listXM.length; i++) {
                                        control['thiet_bi_kiem_tra_xe_may'].push({ "ten_thiet_bi": listXM[i].opencps_dictitem_itemcode.toString() });
                                    }
                                }

                            });
                        }

                        var getOTO = function () {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/dictitem/search?dictgroupname=XCG&groupid=55301&collectioncode=VR84&start=-1&end=-1',
                                success: function (response) {
                                    listOTO = response.data;

                                    for (var i = 0; i < listOTO.length; i++) {
                                        control['thiet_bi_kiem_tra_chinh'].push({ "ten_thiet_bi": listOTO[i].opencps_dictitem_itemcode.toString() });
                                    }
                                }

                            });
                        }

                        var getXDD = function () {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/dictitem/search?dictgroupname=XDD&groupid=55301&collectioncode=VR84&start=-1&end=-1',
                                success: function (response) {
                                    listXDD = response.data;

                                    for (var i = 0; i < listXDD.length; i++) {
                                        control['thiet_bi_kiem_tra_xe_dap'].push({ "ten_thiet_bi": listXDD[i].opencps_dictitem_itemcode.toString() });
                                    }
                                }

                            });
                        }

                        var getXCH = function () {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/dictitem/search?dictgroupname=XCH&groupid=55301&collectioncode=VR84&start=-1&end=-1',
                                success: function (response) {
                                    listXCH = response.data;

                                    for (var i = 0; i < listXCH.length; i++) {
                                        control['thiet_bi_kiem_tra_xe_cho_hang'].push({ "ten_thiet_bi": listXCH[i].opencps_dictitem_itemcode.toString() });
                                    }
                                }

                            });
                        }

                        var getXCN = function () {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/dictitem/search?dictgroupname=XCN&groupid=55301&collectioncode=VR84&start=-1&end=-1',
                                success: function (response) {
                                    listXCN = response.data;

                                    for (var i = 0; i < listXCN.length; i++) {
                                        control['thiet_bi_kiem_tra_xe_cho_nguoi'].push({ "ten_thiet_bi": listXCN[i].opencps_dictitem_itemcode.toString() });
                                    }
                                }

                            });
                        }
						
						var setCOPdata = function(response, dossierId){
							$.ajax({
								headers: {"groupId": Liferay.ThemeDisplay.getScopeGroupId()},
								data: "",
								type: 'get',
								dataType: 'json',
								url: '/o/rest/v2/dossiers/' + dossierId + '/files',
								success: function(response) {
									var data = response.data;
									$.each(data, function(k, v){
										var data = response.data;
										$.each(data, function(k, v){
											if(v.dossierPartNo == 'TP1'){
												var formdata = v.formData;
												var control = $("#formPartNoTP1").alpaca("get");
												control.setValue(formdata.replace(/[\u0000-\u0019]+/g,""));
											}
										});
									});
								}
							});
						}

	
						
						var checkStatusCOP = function(){
							var copclassification = '';
							$('.lhsx :checked').each(function(k, v){
								if (k == 0){
									copclassification += $(this).attr('data-checkbox-value');
								} else {
									copclassification += ',';
									copclassification += $(this).attr('data-checkbox-value');
								}
							});
							
							var productionPlantCodee = $('#list_nha_xuong').val();
							
							 $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/vr-app/cop/reportrepository/productionplant?mtcore=1&productionplantcode=' + productionPlantCodee + '&copclassification=' + copclassification,
                                success: function (response) {
									if (response.total == 0) {
										
									} else {
										var data = response.data[0];
										setCOPdata(data.dossierId);
									}
									
                                }

                            });
							
						}
						
						$('#column-chon_loai_thiet_bi').find('input').click(function(){
							var value = $(this).attr('data-checkbox-value');
							//var control = $("#formPartNoTP1").alpaca("get");
							//control[]
							if($(this).is(':checked')){
								if(value == '1'){
									$('#column-thiet_bi_xuat_xuong').parent().show();
									$('#9_1_1').show();
								}
								else if(value == '2') {
									$('#column-hop_dong').parent().show();
									$('#9_1_2').show();
								}
							} else {
								if(value == '1'){
									$('#column-thiet_bi_xuat_xuong').parent().hide();
									$('#9_1_1').hide();
								}
								else if(value == '2') {
									$('#column-hop_dong').parent().hide();
									$('#9_1_2').hide();
								}
							}
						});
						
                        /*var nhom_sp = '';
                        $('#column-loai_hinh_san_xuat').find('input:checkbox').click(function (event) {
                            vl = $(this).attr('data-checkbox-value');
							
                            if ($(this).prop('checked')) {
                                if (nhom_sp.search(vl) == -1) {
                                    if (nhom_sp != '') nhom_sp += ',';
                                    nhom_sp += vl;
                                }*/
						var nhom_sp;
                        $('#loai_hinh_san_xuat').change(function () {
                            vl = $(this).attr('value');
							$('#loai_hinh_san_xuat_text').val($('#loai_hinh_san_xuat option:selected').text());
							var nhom_ = $('#loai_hinh_san_xuat').val();
							var loai_ho_so_cop = $('#loai_ho_so_cop').val();
							
							if(loai_ho_so_cop == 'HN'){
								$.ajax({
									headers: {"groupId": Liferay.ThemeDisplay.getScopeGroupId()},
									data: "",
									type: 'get',
									dataType: 'json',
									url: '/o/rest/v2/dossiers/' + dossierId,
									success: function(response) {
										maso_taikhoan = response.applicantIdNo;
										$.ajaxSetup({
										  headers : {   
											'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
										  }
										});
										//$.getJSON('/o/rest/v2/dictcollections/VR02/dictitems', function(response) {
										$.getJSON('/o/rest/vr-app/certificate/vehicleClass?applicantIdNo='+ maso_taikhoan +'&vehicleClass='+ nhom_ +'&expiredStatus=1', function(response) {
											if(response.total != 0){
												$('#column-danh_sach_san_pham').find('select').each(function(){
												   var name = $(this).attr('name');
												   var id = $(this).attr('id');
												   if(name.includes('cerNo')){
														$('#' + id).find('option').remove().end();
														$('#' + id).append(new Option('', ''));
														$.each(response.data, function(k,v){
															$('#' + id).append(new Option(v['certificateRecordNo'], v['certificateId']));
														});
														$('#' + id).val('').change();	
												   }
												});
												
											} else {
												$('#column-danh_sach_san_pham').find('select').each(function(){
												   var name = $(this).attr('name');
												   var id = $(this).attr('id');
												   if(name.includes('cerNo')){
														$('#' + id).find('option').remove().end();
														$('#' + id).append(new Option('', ''));
														$('#' + id).val('').change();	
												   }
												});
											}
										});
									}
								});
							}
							
							var control = $("#formPartNoTP1").alpaca("get");
							var data = control.getValue();
							data['loai_san_pham_xuong'] = [{}];
							data['thiet_bi_xuat_xuong'] = [{}];
							data['danh_sach_san_pham'] = [{}];
							control.setValue(data);
							
							$('#column-loai_san_pham_xuong').find('select').each(function(){
							   var name = $(this).attr('name');
							   var id = $(this).attr('id');
							   if(name.includes('code_sp_XCG01050')){
									$.ajaxSetup({
									  headers : {   
										'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
									  }
									});
									$.getJSON('/o/rest/vr-app/collections/VR02/'+nhom_+'/items', function(response) {
										$('#' + id).find('option').remove().end();
										$('#' + id).append(new Option('	', ''));
										$.each(response.Items, function(key,obj){
											$('#' + id).append(new Option(obj['value'], obj['key']));
										});
										$('#' + id).val('').change();						
									});
							   }
							   $('#column-loai_san_pham_xuong').find('input').each(function(){
								   var name = $(this).attr('name');
								   var id = $(this).attr('id');
								   if(name.includes('nhan_hieu')){
									   if(nhom_ == 'XCG' || nhom_ == 'XBB' || nhom_ == 'XCD' || nhom_ == 'XMY' || nhom_ == 'SMRM' || nhom_ == 'XMY' || nhom_ == 'XCGNK'){
										   $('#' + id).next().find('option').remove().end();
										   $('#' + id).next().append(new Option('	', ''));
									   } else {
										   $('#' + id).next().next().remove();
										   $('#' + id).next().remove(); 
										   $('#' + id).show();
									   }
										
								   }
								});
							});
								
								
							$('#column-thiet_bi_xuat_xuong').find('select').each(function(){
							   var name = $(this).attr('name');
							   var id = $(this).attr('id');
							   if(name.includes('name')){
									$.ajaxSetup({
									  headers : {   
										'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
									  }
									});
									$.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/'+nhom_+'/dictitems', function(response) {
										$('#' + id).find('option').remove().end();
										$('#' + id).append(new Option('	', ''));
										$.each(response.data, function(key,obj){
											$('#' + id).append(new Option(obj['itemName'], obj['itemCode']));
										});
										$('#' + id).val('').change();						
									});
									
							   }
							});
							
							$('#column-thiet_bi_xuat_xuong').delegate('select', 'change', function(){
								$('#column-thiet_bi_xuat_xuong').find('select').each(function(){
									var name = $(this).attr('name') + '_text';
									var id = $( "input[name=" + name + "]" ).attr('id');
									$('#' + id).val($(this).find(":selected").text());
								});
							});
							
							$('#column-danh_sach_san_pham').delegate('select', 'change', function(){
								$('#column-danh_sach_san_pham').find('select').each(function(){
									var name = $(this).attr('name');
									if(name.includes('mark')){
										var name2 = name.replace('_select', '');
										var name3 = name2.replace('_mark', '_code_mark');
										var id2 = $( "input[name=" + name2 + "]" ).attr('id');
										var id3 = $( "input[name=" + name3 + "]" ).attr('id');
										$('#' + id2).val($(this).find(":selected").text());
										$('#' + id3).val($(this).val());
									} else {
										var name2 = name + '_text';
										var id = $( "input[name=" + name2 + "]" ).attr('id');
										$('#' + id).val($(this).find(":selected").text());
									}
								});
								
							});
							
							$('#column-danh_sach_san_pham').delegate('button', 'click', function(){
								setTimeout(function(){
								$('#column-danh_sach_san_pham input').hide();
								}, 2000);
							});
							
							$('#column-danh_sach_san_pham').find('select').each(function(){
							   var name = $(this).attr('name');
							   var id = $(this).attr('id');
							   if(name.includes('type')){
									$.ajaxSetup({
									  headers : {   
										'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
									  }
									});
									$.getJSON('/o/rest/vr-app/collections/VR02/'+nhom_+'/items', function(response) {
										$('#' + id).find('option').remove().end();
										$('#' + id).append(new Option('	', ''));
										$.each(response.Items, function(key,obj){
											$('#' + id).append(new Option(obj['value'], obj['key']));
										});
										$('#' + id).val('').change();						
									});
							   }
							   $('#column-danh_sach_san_pham').find('input').each(function(){
								   var name = $(this).attr('name');
								   var id = $(this).attr('id');
								   if(name.includes('mark')){
									   if(nhom_ == 'XCG' || nhom_ == 'XBB' || nhom_ == 'XCD' || nhom_ == 'XMY' || nhom_ == 'SMRM' || nhom_ == 'XMY' || nhom_ == 'XCGNK'){
										   $('#' + id).next().find('option').remove().end();
										   $('#' + id).next().append(new Option('	', ''));
									   } else {
										   $('#' + id).next().next().remove();
										   $('#' + id).next().remove(); 
										   $('#' + id).show();
										   $('#' + id).parent().css('padding-top', '0px');
									   }
								   }
								});
							});
						});
						
						$('.style-dklr-form').delegate('.glyphicon-plus-sign','click',function() {		
							setTimeout(function(){
								if($(this).parent().attr('data-alpaca-array-actionbar-action') == 'add'){
									$(this).parent().parent().parent().parent().parent().find('select').each(function(){
										var id = $(this).attr('id');
										var name = $(this).attr('name');
										var value = $(this).val();
										if($('#' + id).has('option').length == 1 && name.includes('name')){
											var nhom_ = $('#loai_hinh_san_xuat').val();
											
											$.ajaxSetup({
											  headers : {   
												'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
											  }
											});
											$.getJSON('/o/rest/v2/dictcollections/VR84/dictgroups/'+nhom_+'/dictitems', function(response) {
												$('#' + id).find('option').remove().end();
												$('#' + id).append(new Option('	', ''));
												$.each(response.data, function(key,obj){
													$('#' + id).append(new Option(obj['itemName'], obj['itemCode']));
												});
												if(value == ''){
													$('#' + id).val('').change();
												} else {
													$('#' + id).val(value).change();
												}					
											});
											
										}
										$(this).select2();
									});
								} 
							}, 2000);
							

						});	

                        /*$('#column-loai_hinh_san_xuat').find('input:checkbox').each(function () {
                            vl = $(this).attr('data-checkbox-value');

                            if ($(this).prop('checked')) {
                                if (nhom_sp.search(vl) == -1) {
                                    if (nhom_sp != '') nhom_sp += ',';
                                    nhom_sp += vl;
                                }*/
						/*$('#column-loai_hinh_san_xuat').find('input:radio').each(function () {
                            vl = $(this).attr('value');

                            if ($(this).prop('checked')) {
                             	
                                if (vl == 'XCG') {
                                    $('.div-kttb-oto').css('display', 'block');
                                }
                                if (vl == 'LKXCG') {
                                    $('.div-kttb-lk-oto').css('display', 'block');
                                }
                                if (vl == 'SMRM') {
                                    $('.div-kttb-ro-mooc').css('display', 'block');
                                }
                                if (vl == 'XMY') {
                                    $('.div-kttb-xe-may').css('display', 'block');
                                }
                                if (vl == 'LKXMY') {
                                    $('.div-kttb-lk-xe-may').css('display', 'block');
                                }
                                if (vl == 'XDD') {
                                    $('.div-kttb-xe-dap').css('display', 'block');
                                }
                                if (vl == 'XCN') {
                                    $('.div-kttb-xe-cho-nguoi').css('display', 'block');
                                }
                                if (vl == 'XCH') {
                                    $('.div-kttb-xe-cho-hang').css('display', 'block');
                                }
                            } else {

                                if (vl == 'XCG') {
                                    $('.div-kttb-oto').css('display', 'none');
                                }
                                if (vl == 'LKXCG') {
                                    $('.div-kttb-lk-oto').css('display', 'none');
                                }
                                if (vl == 'SMRM') {
                                    $('.div-kttb-ro-mooc').css('display', 'none');
                                }
                                if (vl == 'XMY') {
                                    $('.div-kttb-xe-may').css('display', 'none');
                                }
                                if (vl == 'LKXMY') {
                                    $('.div-kttb-lk-xe-may').css('display', 'none');
                                }
                                if (vl == 'XDD') {
                                    $('.div-kttb-xe-dap').css('display', 'none');
                                }
                                if (vl == 'XCH') {
                                    $('.div-kttb-xe-cho-hang').css('display', 'none');
                                }
                                if (vl == 'XCN') {
                                    $('.div-kttb-xe-cho-nguoi').css('display', 'none');
                                }

                            }

                        });*/
						
                        var showhideLHSX = function (list) {
                            /*$.each(list, function (key, obj) {
                                if (obj['opencps_dictgroup_groupcode'] == 'KHAC') {
                                    $('.lhsx:nth-child(1)').show();
                                }
                                if (obj['opencps_dictgroup_groupcode'] == 'LKXCG') {
                                    $('.lhsx:nth-child(2)').show();
                                }
                                if (obj['opencps_dictgroup_groupcode'] == 'LKXMY') {
                                    $('.lhsx:nth-child(3)').show();
                                }
                                if (obj['opencps_dictgroup_groupcode'] == 'SMRM') {
                                    $('.lhsx:nth-child(4)').show();
                                }
                                if (obj['opencps_dictgroup_groupcode'] == 'XCH') {
                                    $('.lhsx:nth-child(5)').show();
                                }
                                if (obj['opencps_dictgroup_groupcode'] == 'XCN') {
                                    $('.lhsx:nth-child(6)').show();
                                }
                                if (obj['opencps_dictgroup_groupcode'] == 'XMY') {
                                    $('.lhsx:nth-child(7)').show();
                                }
                                if (obj['opencps_dictgroup_groupcode'] == 'XDD') {
                                    $('.lhsx:nth-child(8)').show();
                                }
                                if (obj['opencps_dictgroup_groupcode'] == 'XCG') {
                                    $('.lhsx:nth-child(9)').show();
                                }
                                if (obj['opencps_dictgroup_groupcode'] == 'XCGNK') {
                                    $('.lhsx:nth-child(10)').show();
                                }
                            });*/
							$('.lhsx').show();
                        }

                        var getLHSX = function () {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'GET',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/dictgroup/search?collectioncode=VR84&groupid=55301&productionplantid=' + plantId + '&start=-1&end=-1',
                                success: function (response) {
                                    listLHSX = response['data'];
                                    showhideLHSX(listLHSX);
                                }
                            });
                        }
						
						var mstk = $('#applicantIdNo').val();

                        var ttdn = function (callback) {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                data: '',
                                type: 'GET',
                                dataType: 'json',
                                url: '/o/rest/vr-app/applicant/profile/search?applicantcode=' + mstk + '&start=-1&end=-1',
                                success: function (response) {
                                    callback(response);
                                }
                            });
                        }

						var list_ttdn;
                        ttdn(function (response) {
                            if($('#count') == 0){
								$.each(response.data, function(k,v){
									if(v['applicantCode'] == mstk){
										list_ttdn = v;
									}
								});
                                
								list_ttdn['ten_doanh_nghiep'] = list_ttdn['applicantName'];
								list_ttdn['dia_chi_chinh_doanh_nghiep'] = list_ttdn['applicantAddress'];
								list_ttdn['ma_so_doanh_nghiep'] = list_ttdn['applicantCode'];
								list_ttdn['so_dien_thoai_doanh_nghiep'] = list_ttdn['applicantPhone'];
								list_ttdn['so_fax_doanh_nghiep'] = list_ttdn['applicantFax'];
								list_ttdn['email_doanh_nghiep'] = list_ttdn['applicantEmail'];
								list_ttdn['web_doanh_nghiep'] = list_ttdn['applicantWebsite'];
								list_ttdn['nguoi_dai_dien_doanh_nghiep'] = list_ttdn['applicantRepresentative'];
								list_ttdn['chuc_danh_dai_dien_doanh_nghiep'] = list_ttdn['applicantRepresentativeTitle'];
								list_ttdn['dien_thoai_dai_dien_doanh_nghiep'] = list_ttdn['applicantRepresentativePhone'];
								list_ttdn['loai_hinh_doanh_nghiep'] = list_ttdn['applicantBusinessType'];
								
								$.each(list_ttdn, function (key, value) {
									$('#' + key).val(value);
								});
							}
									
							setTimeout(function () {
								getCurrent();
								getCTN();
							}, 3000);
							
                        });
						
                        var gtCOP = $('#list_COP_TrongNuoc_NuocNgoai').val();
						
                        var getLoaiHinhSXLR = function (dong, listbox_, groupCode, callback) {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'GET',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/VR77/dictgroups/' + groupCode + '/dictitems',
                                success: function (response) {
                                    response['obj'] = listbox_;
                                    response['dong'] = dong;
                                    callback(response);
                                }
                            });
                        }
						
                        var getNhanHieu = function (dong, groupCode, callback) {
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: 'GET',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/VR03/dictgroups/' + groupCode + '/dictitems',
                                success: function (response) {
                                    response['dong'] = dong;
                                    callback(response);
                                }
                            });
                        }

                        var list_ttnx = new Array();
                        var ttnx = function (callback) {

                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                data: { "keyword": "" },
                                type: 'GET',
                                dataType: 'json',
                                url: '/o/rest/vr-app/production/plant/search?productionplanttype=TN&applicantcode=' + maso_taikhoan + '&start=-1&end=-1',
                                success: function (response) {
                                    callback(response);
                                }
                            });
                        }
						
                        var ttnx_nn = function (callback) {

                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                data: { "keyword": "" },
                                type: 'get',
                                dataType: 'json',
                                url: '/o/rest/v2/dictcollections/VR86/dictgroups/NHAXUONG/dictitems',
                                success: function (response) {
                                    callback(response);
                                }
                            });
                        }
						
                        var checkCOP_TrongNuoc_NuocNgoai = function () {
                            var gt = $('#list_COP_TrongNuoc_NuocNgoai').val();
                            switch (gt) {
                                case "TN": {
                                    $('#ten_co_so').val('');
                                    $('#dia_chi_co_so').val('');
                                    //$('#column-ten_xuong_san_xuat').parent().css('display', 'none');
                                    //$('#column-dia_chi_xuong_san_xuat').parent().css('display', 'none');
                                    //$('#column-dia_chi_xuong').parent().css('display', 'flex');
                                    $('#ma_so_xuong').val('');
                                    $('#email_xuong').val('');
                                    $('#website_xuong').val('');
                                    $('#nguoi_dai_dien_xuong').val('');
                                    $('#chuc_danh_dai_dien_xuong').val('');
                                    $('#nguoi_lien_he_xuong').val('');
                                    $('#sdt_nguoi_lien_he_xuong').val('');
                                    ttnx(function (response) {
                                        list_ttnx = response;
                                        $('#list_nha_xuong').children('option').remove();
                                        $('#list_nha_xuong').append(new Option('', ''));
                                        $(response['data']).each(function (k, v) {

                                            $('#list_nha_xuong').append(new Option(response['data'][k]['productionPlantName'], response['data'][k]['productionPlantCode'].toString()));

                                        });
                                        $('#list_nha_xuong').val($('#list_nha_xuong_hidden').val());
                                        //$('#loai_hinh_danh_gia').val($('#list_COP_TrongNuoc_NuocNgoai option:selected').text());
										$('#loai_hinh_danh_gia').val($('#loai_ho_so_cop').val());

                                    });
									$('#column-chon_loai_thiet_bi').parent().show();
									//$('#column-chon_loai_thiet_bi').find('input').prop('checked', false); 
                                    break;
                                }
                                case "NN": {
                                    $('#ten_co_so').val('');
                                    $('#dia_chi_co_so').val('');
                                    $('#ten_xuong_san_xuat').val('');
                                    $('#dia_chi_xuong_san_xuat').val('');
                                    //$('#column-ten_xuong_san_xuat').parent().css('display', 'flex');
                                    //$('#column-dia_chi_xuong_san_xuat').parent().css('display', 'flex');
                                    //$('#column-dia_chi_xuong').parent().css('display', 'none');
                                    $('#ma_so_xuong').val('');
                                    $('#email_xuong').val('');
                                    $('#website_xuong').val('');
                                    $('#nguoi_dai_dien_xuong').val('');
                                    $('#chuc_danh_dai_dien_xuong').val('');
                                    $('#nguoi_lien_he_xuong').val('');
                                    $('#sdt_nguoi_lien_he_xuong').val('');
                                    ttnx_nn(function (response) {
                                        list_ttnx = response;
                                        $('#list_nha_xuong').children('option').remove();
                                        $('#list_nha_xuong').append(new Option('', ''));

                                        $(response['data']).each(function (k, v) {

                                            $('#list_nha_xuong').append(new Option(response['data'][k]['itemName'], response['data'][k]['itemCode'].toString()));

                                        });
                                        $('#list_nha_xuong').val($('#list_nha_xuong_hidden').val());
                                        //$('#loai_hinh_danh_gia').val($('#list_COP_TrongNuoc_NuocNgoai option:selected').text());
										$('#loai_hinh_danh_gia').val($('#loai_ho_so_cop').val());

                                    });
									$('#column-chon_loai_thiet_bi').parent().hide();
									$('#9_1_1').hide();
									$('#column-thiet_bi_xuat_xuong').parent().hide();
									$('#9_1_2').hide();
									$('#column-hop_dong').parent().hide();

                                    break;
                                }
                                case "": {
                                    $('#list_nha_xuong').children('option').remove();
                                    $('#list_nha_xuong_hidden').val('');
                                    $('#list_nha_xuong_text').val('');
                                    $('#list_nha_xuong').append(new Option('', ''));
                                    $('#loai_hinh_danh_gia').val('');
                                    $('#ten_xuong_san_xuat').val('');
                                    $('#dia_chi_xuong_san_xuat').val('');
                                    $('#ten_co_so').val('');
                                    $('#dia_chi_co_so').val('');
                                    $('#ma_so_xuong').val('');
                                    $('#email_xuong').val('');
                                    $('#website_xuong').val('');
                                    $('#nguoi_dai_dien_xuong').val('');
                                    $('#chuc_danh_dai_dien_xuong').val('');
                                    $('#nguoi_lien_he_xuong').val('');
                                    $('#sdt_nguoi_lien_he_xuong').val('');

                                    break;
                                }
                                default: {
                                    $('#column-ten_xuong_san_xuat').val('');
                                    $('#column-dia_chi_xuong_san_xuat').val('');
                                    $('#ten_co_so').val('');
                                    $('#dia_chi_co_so').val('');
                                    $('#list_nha_xuong').children('option').remove();
                                    $('#list_nha_xuong_hidden').val('');
                                    $('#list_nha_xuong_text').val('');
                                    $('#list_nha_xuong').append(new Option('', ''));
                                    $('#loai_hinh_danh_gia').val('');
                                    $('#ma_so_xuong').val('');
                                    $('#email_xuong').val('');
                                    $('#website_xuong').val('');
                                    $('#nguoi_dai_dien_xuong').val('');
                                    $('#chuc_danh_dai_dien_xuong').val('');
                                    $('#nguoi_lien_he_xuong').val('');
                                    $('#sdt_nguoi_lien_he_xuong').val('');

                                    break;
                                }
                            }
                        }

                        function bindingData(list_ttnx, gtCOP) {

                            if (gtCOP == 'TN') {
                                // binding du lieu vao form COP;
                                $('#ten_xuong_san_xuat').val(list_ttnx['productionPlantName']);
                                $('#dia_chi_xuong').val(list_ttnx['productionPlantAddress']);
                                $('#ten_co_so').val(list_ttnx['productionPlantName']);
                                $('#dia_chi_co_so').val(list_ttnx['productionPlantAddress']);
                                $('#dia_chi_xuong_san_xuat').val(list_ttnx['productionPlantAddress']);
                                $('#ma_so_xuong').val(list_ttnx['productionPlantCode']);
                                //$('#loai_hinh_danh_gia').val($('#list_COP_TrongNuoc_NuocNgoai option:selected').text());
								$('#loai_hinh_danh_gia').val($('#loai_ho_so_cop').val());
                                $('#email_xuong').val(list_ttnx['productionPlantEmail']);
                                $('#website_xuong').val(list_ttnx['productionPlantWebsite']);
                                $('#nguoi_dai_dien_xuong').val(list_ttnx['productionPlantRepresentative']);
                                $('#chuc_danh_dai_dien_xuong').val(list_ttnx['productionPlantRepresentativeTitle']);
                                $('#nguoi_lien_he_xuong').val(list_ttnx['productionPlantContactName']);
                                $('#sdt_nguoi_lien_he_xuong').val(list_ttnx['productionPlantContactPhone']);
                                plantCode = list_ttnx['productionPlantCode'];
                                plantId = list_ttnx['id'];

                                getLHSX();
								$('#column-chon_loai_thiet_bi').parent().show();
								//$('#column-chon_loai_thiet_bi').find('input').prop('checked', false); 
                                //showhideLHSX(listLHSX);
                            } else if (gtCOP == 'NN') {
                                // binding du lieu vao form COP;
                                $('#ten_co_so').val(list_ttnx['itemName']);
                                $('#dia_chi_co_so').val(list_ttnx['itemDescription']);
                                $('#ten_xuong_san_xuat').val(list_ttnx['itemName']);
                                $('#dia_chi_xuong_san_xuat').val(list_ttnx['itemDescription']);
                                $('#ma_so_xuong').val(list_ttnx['itemCode']);
                                //$('#loai_hinh_danh_gia').val($('#list_COP_TrongNuoc_NuocNgoai option:selected').text());
								$('#loai_hinh_danh_gia').val($('#loai_ho_so_cop').val());
                                //$('#email_xuong').val(list_ttnx['productionPlantEmail']);
                               // $('#website_xuong').val(list_ttnx['productionPlantWebsite']);
                               // $('#nguoi_dai_dien_xuong').val(list_ttnx['productionPlantRepresentative']);
                                //$('#chuc_danh_dai_dien_xuong').val(list_ttnx['productionPlantRepresentativeTitle']);
                                $('#nguoi_lien_he_xuong').val('');
                                $('#sdt_nguoi_lien_he_xuong').val('');
                                plantCode = list_ttnx['itemCode'];
                                plantId = list_ttnx['dictItemId'];

                                getLHSX();
                                //showhideLHSX(listLHSX);

                                xuong = list_ttnx['productionPlantCode'];
                                /*getItemInfo('VR86',xuong,function(tt){
                                    cha = tt['parentItem'];
                                    
                                    if(cha != ''){
                                        $('#nha_san_xuat_nuoc_ngoai').val(cha['vr_productionplant_productionPlantName']);
                                        $('#dia_chi_nsx_nn').val(cha['vr_productionplant_productionPlantAddress']);
                                    }
                                });*/
								$('#column-chon_loai_thiet_bi').parent().hide();
								$('#9_1_1').hide();
								$('#column-thiet_bi_xuat_xuong').parent().hide();
								$('#9_1_2').hide();
								$('#column-hop_dong').parent().hide();

                            } else if (gtCOP == '') {
                                $('#ten_xuong_san_xuat').val('');
                                $('#dia_chi_xuong_san_xuat').val('');
                                $('#ma_so_xuong').val('');
                                $('#loai_hinh_danh_gia').val('');
                            }
                        }
						
                        function fillData(dataArray) {
                            var control = $("#formPartNoTP1").alpaca("get");
                            control.setValue(dataArray);
                            $('#ma_so_tai_khoan').val(maso_taikhoan);
                            $('#initEvent').val(maso_taikhoan);
                            $('#list_nha_xuong_hidden').val($('#list_nha_xuong option:selected').val());
                            $('#list_nha_xuong_text').val($('#list_nha_xuong option:selected').text());
                        }

                        $('#list_nha_xuong').change(function () {
                            var ma_xuong = $('#list_nha_xuong option:selected').val();
                            var mang = [];
                            $('#list_nha_xuong_hidden').val(ma_xuong);
                            $('#list_nha_xuong_text').val($('#list_nha_xuong option:selected').text());
                            if ($('#list_nha_xuong option:selected').val() == '') {
                                $('.lhsx').hide();
                            } else {
                                gtCOP = $('#list_COP_TrongNuoc_NuocNgoai').val();

                                if (gtCOP == 'TN') {
                                    ttnx(function (response) {
                                        $(response['data']).each(function (k, v) {
                                            if (response['data'][k]['productionPlantCode'] == ma_xuong) {
                                                mang = response['data'][k];
                                                bindingData(mang, gtCOP);

                                            }
                                        });
                                        mang['loai_ho_so_cop'] = $('#loai_ho_so_cop').val();
                                        mang['dossierNo'] = $('#dossierNo').val();
                                        mang['list_COP_TrongNuoc_NuocNgoai'] = $('#list_COP_TrongNuoc_NuocNgoai').val();
                                        mang['list_nha_xuong'] = $('#list_nha_xuong').val();
                                        sum = $.extend(list_ttdn, mang);

                                        //fillData(sum);

                                    });


                                    $('.lhsx').hide();
                                } else if (gtCOP == 'NN') {

                                    ttnx_nn(function (response) {
                                        $(response['data']).each(function (k, v) {
                                            if (response['data'][k]['itemCode'] == ma_xuong) {
                                                mang = response['data'][k];
                                                bindingData(mang, gtCOP);

                                            }
                                        });



                                    });


                                    $('.lhsx').hide();
                                }
                            }


                        });

                        $('#list_COP_TrongNuoc_NuocNgoai').change(function () {

                            checkCOP_TrongNuoc_NuocNgoai();
							$('.lhsx').prop('checked', false);
                        });

                        $('#column-loai_san_pham_xuong').delegate('select', "change", function (e) {
							//$(this).select2();
							//$(this).next().css('margin-top', '20px');
                            name_ = $(this).attr('name');
                            kt_loai_sp = name_.indexOf('code_sp_XCG01050');
                            kt_loai_hinh = name_.indexOf('code_loai_hinh_sxlr_XCG01050');
                            var dong = (name_.substr(20, 4)).split('_')[0];

                            kt_nhan_hieu = name_.indexOf('loai_san_pham_xuong_' + dong + '_nhan_hieu_select');

                            var lhsxlr = $('select[name=loai_san_pham_xuong_' + dong + '_code_loai_hinh_sxlr_XCG01050]').attr('id');
                            var lhsxlr_text = $('input[name=loai_san_pham_xuong_' + dong + '_loai_hinh_sxlr_XCG01050]').attr('id');
							var codeXCG01050 = $('select[name=loai_san_pham_xuong_' + dong + '_code_sp_XCG01050]').attr('id');

                            if (kt_loai_sp >= 0) {

                                item_code = $(this).val();
                                id_ = $(this).attr('id');
                                $('input[name=loai_san_pham_xuong_' + dong + '_sp_XCG01050]').val($('#' + id_ + ' option:selected').text());
                                check_group = item_code.substr(0, 2);
                                if (check_group == 'LK')
                                    group_code = item_code.substr(0, 5);
                                else
                                    group_code = item_code.substr(0, 3);

                                getLoaiHinhSXLR(dong, lhsxlr, group_code, function (r) {
                                    $('#' + lhsxlr).find('option:not(:first)').remove();
                                    $('#' + lhsxlr_text).val('');
                                    if ('data' in r) {
                                        $.each(r['data'], function (k, v) {
                                            sub_key = v['itemCode'];
                                            sub_val = v['itemName'];
                                            $('#' + lhsxlr).append(new Option(sub_val, sub_key));
                                        });
                                    }
                                });

                                if (check_group != 'LK') {
									var nhom_ = $('#loai_hinh_san_xuat').val();
									if(nhom_ == 'XCG' || nhom_ == 'XBB' || nhom_ == 'XCD' || nhom_ == 'XMY' || nhom_ == 'SMRM' || nhom_ == 'XMY' || nhom_ == 'XCGNK'){
										getNhanHieu(dong, group_code, function (r) {
											nhan_hieu_row = $('input[name=loai_san_pham_xuong_' + dong + '_nhan_hieu]').attr('id');
											var select_nhan_hieu = '<select class="alpaca-control form-control select2" name="loai_san_pham_xuong_' + dong + '_nhan_hieu_select" id="loai_san_pham_xuong_' + dong + '_nhan_hieu_select">';
											select_nhan_hieu += '<option value=""></option>';
											if ('data' in r) {
												$.each(r['data'], function (k, v) {
													sub_key = v['itemCode'];
													sub_val = v['itemName'];
													select_nhan_hieu += '<option value="' + sub_key + '">' + sub_val + '</option>';
												});
											}
											select_nhan_hieu += '</select>';
											if ($('#loai_san_pham_xuong_' + dong + '_nhan_hieu_select').length > 0) {
												$('#loai_san_pham_xuong_' + dong + '_nhan_hieu_select').remove();
												$('#' + nhan_hieu_row).parent().find('span').each(function () {
													$(this).remove();
												});
											}

											$('#' + nhan_hieu_row).css('display', 'none');
											$(select_nhan_hieu).insertAfter($('#' + nhan_hieu_row));

										});
									}
                                    
                                } else {
                                    if ($('#loai_san_pham_xuong_' + dong + '_nhan_hieu_select').length > 0) {
                                        $('#loai_san_pham_xuong_' + dong + '_nhan_hieu_select').remove();
                                        $('#' + nhan_hieu_row).parent().find('span').each(function () {
                                            $(this).remove();
                                        });
                                    }
                                    $('input[name=loai_san_pham_xuong_' + dong + '_nhan_hieu]').css('display', 'block');
                                }

                            }

                            //thay đổi loại hình
                            if (kt_loai_hinh >= 0) {
                                $('#' + lhsxlr_text).val($('#' + lhsxlr + ' option:selected').text());

                            }

                            //thay đổi nhãn hiệu
                            if (kt_nhan_hieu >= 0) {
                                id = $('select[name=loai_san_pham_xuong_' + dong + '_nhan_hieu_select]').attr('id');
                                $('input[name=loai_san_pham_xuong_' + dong + '_nhan_hieu]').val($('#' + id + ' option:selected').text());
                                $('input[name=loai_san_pham_xuong_' + dong + '_code_nhan_hieu]').val($('#' + id + ' option:selected').val());
                            }

                        });
						
						 $('#column-danh_sach_san_pham').delegate('select', "change", function (e) {
							//$(this).select2();
							//$(this).next().css('margin-top', '20px');
                            name_ = $(this).attr('name');
                            id_ = $(this).attr('id');
                            kt_loai_sp = name_.indexOf('type');
                            var dong = (name_.substr(19, 1));
							
							if(name_.includes('type')){
                                $('input[name=danh_sach_san_pham_' + dong + '_type_text]').val($('#' + id + ' option:selected').val());
							}
							if(name_.includes('cerNo')){
                                $('input[name=danh_sach_san_pham_' + dong + '_cerNo_text]').val($('#' + id + ' option:selected').val());
								$('#column-danh_sach_san_pham').find('input').hide();
								$('#column-danh_sach_san_pham').find('input').val('');
							}

                            kt_nhan_hieu = name_.indexOf('danh_sach_san_pham_' + dong + '_mark_select');

                            if (kt_loai_sp >= 0) {

                                item_code = $(this).val();
                                id_ = $(this).attr('id');
                                $('input[name=danh_sach_san_pham_' + dong + '_type]').val($('#' + id_ + ' option:selected').text());
                                check_group = item_code.substr(0, 2);
                                if (check_group == 'LK')
                                    group_code = item_code.substr(0, 5);
                                else
                                    group_code = item_code.substr(0, 3);
								
                                if (check_group != 'LK') {
									var nhom_ = $('#loai_hinh_san_xuat').val();
									if(nhom_ == 'XCG' || nhom_ == 'XBB' || nhom_ == 'XCD' || nhom_ == 'XMY' || nhom_ == 'SMRM' || nhom_ == 'XMY' || nhom_ == 'XCGNK'){
										getNhanHieu(dong, group_code, function (r) {
											mark_row = $('input[name=danh_sach_san_pham_' + dong + '_mark]').attr('id');
											var select_mark = '<select class="alpaca-control form-control select2" name="danh_sach_san_pham_' + dong + '_mark_select" id="danh_sach_san_pham_' + dong + '_mark_select">';
											select_mark += '<option value=""></option>';
											if ('data' in r) {
												$.each(r['data'], function (k, v) {
													sub_key = v['itemCode'];
													sub_val = v['itemName'];
													select_mark += '<option value="' + sub_key + '">' + sub_val + '</option>';
												});
											}
											select_mark += '</select>';
											if ($('#danh_sach_san_pham_' + dong + '_mark_select').length > 0) {
												$('#danh_sach_san_pham_' + dong + '_mark_select').remove();
												$('#' + mark_row).parent().find('span').each(function () {
													$(this).remove();
												});
											}
											$('#' + mark_row).css('display', 'none');
											$(select_mark).insertAfter($('#' + mark_row));
											$('.mark-select').css('padding-top', '20px');
										});
                                    }
                                } else {
                                    if ($('#danh_sach_san_pham_' + dong + '_mark_select').length > 0) {
                                        $('#danh_sach_san_pham_' + dong + '_mark_select').remove();
                                        $('#' + mark_row).parent().find('span').each(function () {
                                            $(this).remove();
                                        });
                                    }
                                    $('input[name=danh_sach_san_pham_' + dong + '_mark]').css('display', 'block');
                                }

                            }

                            //thay đổi nhãn hiệu
                            if (kt_nhan_hieu >= 0) {
                                id = $('select[name=danh_sach_san_pham_' + dong + '_mark_select]').attr('id');
                                $('input[name=danh_sach_san_pham_' + dong + '_mark]').val($('#' + id + ' option:selected').text());
                                $('input[name=danh_sach_san_pham_' + dong + '_code_mark]').val($('#' + id + ' option:selected').val());
                            }

                        });

                        /*var row_ = $('#column-loai_san_pham_xuong').find('div[data-alpaca-container-item-count]').attr('data-alpaca-container-item-count');
						
                        for (i = 0; i < row_; i++) {
                             id_lh = $('select[name=loai_san_pham_xuong_' + i + '_code_loai_hinh_sxlr_XCG01050]').attr('id');
						

                            code_loai_hinh = $('#' + id_lh).val();
                            var group_code_ = '';
                            code_sp = $('select[name=loai_san_pham_xuong_' + i + '_code_sp_XCG01050]').val();
                            check_group = code_sp.substr(0, 2);
                            if (check_group == 'LK')
                                group_code_ = code_sp.substr(0, 5);
                            else
                                group_code_ = code_sp.substr(0, 3);

                            getLoaiHinhSXLR(i, id_lh, group_code_, function (r) {
                                $('#' + r['obj']).find('option:not(:first)').remove();
                                if ('data' in r) {
                                    $.each(r['data'], function (k, v) {
                                        sub_key = v['itemCode'];
                                        sub_val = v['itemName'];
                                        if ($('input[name=loai_san_pham_xuong_' + r['dong'] + '_loai_hinh_sxlr_XCG01050]').val() == sub_val)
                                            $('#' + r['obj']).append('<option value="' + sub_key + '" selected>' + sub_val + '</option>');
                                        else
                                            $('#' + r['obj']).append(new Option(sub_val, sub_key));
                                    });
                                }
                            });

                            if (check_group != 'LK') {
                                dong = i;
                                getNhanHieu(dong, group_code_, function (r) {
                                    nhan_hieu_row = $('input[name=loai_san_pham_xuong_' + r['dong'] + '_nhan_hieu]').attr('id');
                                    var select_nhan_hieu = '<select class="alpaca-control form-control" name="loai_san_pham_xuong_' + r['dong'] + '_nhan_hieu_select" id="loai_san_pham_xuong_' + r['dong'] + '_nhan_hieu_select">';
                                    select_nhan_hieu += '<option value=""></option>';
                                    if ('data' in r) {
                                        $.each(r['data'], function (k, v) {
                                            sub_key = v['itemCode'];
                                            sub_val = v['itemName'];
                                            if ($('input[name=loai_san_pham_xuong_' + r['dong'] + '_code_nhan_hieu]').val() == sub_key)
                                                select_nhan_hieu += '<option value="' + sub_key + '" selected>' + sub_val + '</option>';
                                            else
                                                select_nhan_hieu += '<option value="' + sub_key + '">' + sub_val + '</option>';
                                        });
                                    }
                                    select_nhan_hieu += '</select>';

                                    $('#' + nhan_hieu_row).css('display', 'none');
                                    $(select_nhan_hieu).insertAfter($('#' + nhan_hieu_row));

                                });
                            }
                        }*/
						getMarkup();
                        if (initEvent == '') {
                            if (maso_taikhoan != '') {
                                if($('#count').val() == 0){
									ttdn(function (response) {
										$.each(response.data, function(k,v){
											if(v['applicantCode'] == mstk){
												list_ttdn = v;
											}
										});
								
										list_ttdn['ten_doanh_nghiep'] = list_ttdn['applicantName'];
										list_ttdn['dia_chi_chinh_doanh_nghiep'] = list_ttdn['applicantAddress'];
										list_ttdn['ma_so_doanh_nghiep'] = list_ttdn['applicantCode'];
										list_ttdn['so_dien_thoai_doanh_nghiep'] = list_ttdn['applicantPhone'];
										list_ttdn['so_fax_doanh_nghiep'] = list_ttdn['applicantFax'];
										list_ttdn['email_doanh_nghiep'] = list_ttdn['applicantEmail'];
										list_ttdn['web_doanh_nghiep'] = list_ttdn['applicantWebsite'];
										list_ttdn['nguoi_dai_dien_doanh_nghiep'] = list_ttdn['applicantRepresentative'];
										list_ttdn['chuc_danh_dai_dien_doanh_nghiep'] = list_ttdn['applicantRepresentativeTitle'];
										list_ttdn['dien_thoai_dai_dien_doanh_nghiep'] = list_ttdn['applicantRepresentativePhone'];
										list_ttdn['loai_hinh_doanh_nghiep'] = list_ttdn['applicantBusinessType'];
										
										fillData(list_ttdn);

									});
									getMarkup();
								}
                                if (gtCOP == 'TN') {
                                    ttnx(function (response) {
                                        list_ttnx = response;
                                        $('#list_nha_xuong').children('option').remove();
                                        $('#list_nha_xuong').append(new Option('', ''));

                                        $(response['data']).each(function (k, v) {

                                            $('#list_nha_xuong').append(new Option(response['data'][k]['productionPlantName'], response['data'][k]['productionPlantCode'].toString()));
                                            var mang = [];
                                            if (response['data'][k]['productionPlantCode'] == $('#list_nha_xuong_hidden').val()) {
                                                mang = response['data'][k];
                                                bindingData(mang, gtCOP);
                                            }
                                        });
                                        $('#list_nha_xuong').val($('#list_nha_xuong_hidden').val());

                                    });
                                } else if (gtCOP == 'NN') {
                                    ttnx_nn(function (response) {
                                        list_ttnx = response;
                                        $('#list_nha_xuong').children('option').remove();
                                        $('#list_nha_xuong').append(new Option('', ''));

                                        $(response['data']).each(function (k, v) {

                                            $('#list_nha_xuong').append(new Option(response['data'][k]['itemName'], response['data'][k]['itemCode'].toString()));
                                            var mang = [];
                                            if (response['data'][k]['itemCode'] == $('#list_nha_xuong_hidden').val()) {
                                                mang = response['data'][k];
                                                bindingData(mang, gtCOP);
                                            }
                                        });
                                        $('#list_nha_xuong').val($('#list_nha_xuong_hidden').val());

                                    });
                                }

                            }
                        } else {
                            if (gtCOP == 'TN') {
                                ttnx(function (response) {
                                    list_ttnx = response;
                                    $('#list_nha_xuong').children('option').remove();
                                    $('#list_nha_xuong').append(new Option('', ''));

                                    $(response['data']).each(function (k, v) {

                                        $('#list_nha_xuong').append(new Option(response['data'][k]['productionPlantName'], response['data'][k]['productionPlantCode'].toString()));
                                        var mang = [];
                                        if (response['data'][k]['productionPlantCode'] == $('#list_nha_xuong_hidden').val()) {
                                            mang = response['data'][k];
                                            bindingData(mang, gtCOP);
                                        }
                                    });
                                    $('#list_nha_xuong').val($('#list_nha_xuong_hidden').val());

                                }); 
                            } else if (gtCOP == 'NN') {
                                ttnx_nn(function (response) {
                                    list_ttnx = response;
                                    $('#list_nha_xuong').children('option').remove();
                                    $('#list_nha_xuong').append(new Option('', ''));

                                    $(response['data']).each(function (k, v) {

                                        $('#list_nha_xuong').append(new Option(response['data'][k]['itemName'], response['data'][k]['itemCode'].toString()));
                                        var mang = [];
                                        if (response['data'][k]['itemCode'] == $('#list_nha_xuong_hidden').val()) {
                                            mang = response['data'][k];
                                            bindingData(mang, gtCOP);
                                        }

                                    });
                                    $('#list_nha_xuong').val($('#list_nha_xuong_hidden').val());

                                });
                            }

                        }

                        $('.style-dklr-form').delegate('select','click',function(){
                            $(this).addClass('my-select');
                            $('.my-select').select2();
                        });
						
						 $('#loai_ho_so_cop').change(function(){
							if($(this).val() == 'HN'){
								$.ajax({
									headers: {"groupId": Liferay.ThemeDisplay.getScopeGroupId()},
									data: "",
									type: 'get',
									dataType: 'json',
									url: '/o/rest/v2/dossiers/' + dossierId,
									success: function(response) {
										maso_taikhoan = response.applicantIdNo;
										var nhom_ = $('#loai_hinh_san_xuat').val();
										$.ajaxSetup({
										  headers : {   
											'groupId' : Liferay.ThemeDisplay.getScopeGroupId()
										  }
										});
										//$.getJSON('/o/rest/v2/dictcollections/VR02/dictitems', function(response) {
										$.getJSON('/o/rest/vr-app/certificate/vehicleClass?applicantIdNo='+ maso_taikhoan +'&vehicleClass='+ nhom_ +'&expiredStatus=1', function(response) {
											if(response.total != 0){
												$('#column-danh_sach_san_pham').find('select').each(function(){
												   var name = $(this).attr('name');
												   var id = $(this).attr('id');
												   if(name.includes('cerNo')){
														$('#' + id).find('option').remove().end();
														$('#' + id).append(new Option('', ''));
														$.each(response.data, function(k,v){
															$('#' + id).append(new Option(v['certificateRecordNo'], v['certificateId']));
														});
														$('#' + id).val('').change();	
												   }
												});
												
											} else {
												$('#column-danh_sach_san_pham').find('select').each(function(){
												   var name = $(this).attr('name');
												   var id = $(this).attr('id');
												   if(name.includes('cerNo')){
														$('#' + id).find('option').remove().end();
														$('#' + id).append(new Option('', ''));
														$('#' + id).val('').change();	
												   }
												});
											}
										});
									}
								});
							} else {
								$('#column-danh_sach_san_pham').find('select').each(function(){
								   var name = $(this).attr('name');
								   var id = $(this).attr('id');
								   if(name.includes('cerNo')){
										$('#' + id).find('option').remove().end();
										$('#' + id).append(new Option('	', ''));
										$('#' + id).val('').change();	
								   }
								});
							}
						 });
						
						var postFileUpload2 = function(id, ten_file,callback){
							var form = $('#' + id)[0];
							var data = new FormData();
							data.append("file", form.files[0]);
							$.ajax({
								headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
								type: "POST",
								url: "/o/rest/v2/dossiers/formfiles",
								data: data,
								processData: false,
								contentType: false,
								dataType: 'json',
								cache: false,
								timeout: 600000,
								success: function (data) {
									data['ten_file'] = ten_file;
									callback(data);
								}
							});
						}
						
						var genFileUpload2 = function(id){
							mang_file = new Array();
							m_tg = $('#' + id).val();
							if(m_tg != '' && m_tg != 'null'){
								mang_file = JSON.parse(m_tg);
								ds_file = '';
								$(mang_file).each(function(k,v){
									ds_file+='<p>- <a href="'+v['fileUrl']+'" target="_blank">'+v['ten_file']+'</a> &nbsp; &nbsp;  <input type="button" class="delete-upload-tl" data-file-upload="'+v['fileId']+'" value="Xoá" /></p>';
								});
								$('#' + id).next().html(ds_file);
							}
						}
						
                        var control = $("#formPartNoTP1").alpaca("get").getValue();
                        var sum = {};

                        var yeu_cau_1 = JSON.parse($('#yeu_cau_1').val());
                        var yeu_cau_2 = JSON.parse($('#yeu_cau_2').val());
                        var yeu_cau_3 = JSON.parse($('#yeu_cau_3').val());
                        var yeu_cau_4 = JSON.parse($('#yeu_cau_4').val());
                        var yeu_cau_5 = JSON.parse($('#yeu_cau_5').val());
                        var yeu_cau_6 = JSON.parse($('#yeu_cau_6').val());

                        var phan_nhom_1 = JSON.parse($('#phan_nhom_1').val());
                        var phan_nhom_2 = JSON.parse($('#phan_nhom_2').val());
                        var phan_nhom_3 = JSON.parse($('#phan_nhom_3').val());
                        var phan_nhom_4 = JSON.parse($('#phan_nhom_4').val());
                        var phan_nhom_5 = JSON.parse($('#phan_nhom_5').val());
                        var phan_nhom_6 = JSON.parse($('#phan_nhom_6').val());

                        var gen_yeu_cau = function (bang, body) {
                            var ht = '';
                            $.each(bang, function (k, v) {
                                if (v['items']) {
                                    ht += '<tr>';
                                    ht += '<td class="bold" style="width: 5%; text-align: center" id="' + v['id'] + '_stt" rowspan="' + (v['items'].length + 1) + '">' + v['stt'] + '</td>';

                                    var stringAdd = "{\"" + v['id'] + "_stt" + "\":\"" + v['stt'] + "\"}";
                                    var mang = JSON.parse(stringAdd);
                                    sum = $.extend(control, mang);

                                    ht += '<td colspan="3" style="text-align: center; font-style: italic" id="' + v['id'] + '_nd">' + v['noi_dung'] + '</td>';
                                    ht += '</tr>';

                                    var stringAdd = "{\"" + v['id'] + "_nd" + "\":\"" + v['noi_dung'] + "\"}";
                                    var mang = JSON.parse(stringAdd);
                                    sum = $.extend(control, mang);

                                    $.each(v['items'], function (kl, vl) {
                                        ht += '<tr><td id="' + v['id'] + '_nd">' + vl['noi_dung'] + '</td>';

                                        var stringAdd = "{\"" + vl['id'] + "_nd" + "\":\"" + vl['noi_dung'] + "\"}";
                                        var mang = JSON.parse(stringAdd);
                                        sum = $.extend(control, mang);

                                        ht += '<td style="width: 15%; text-align: center">';
                                        var v_thong_bao = vl['thong_bao'];

                                        var stringAdd = "{\"" + vl['id'] + "_tt" + "\":\"" + vl['thong_bao'] + "\"}";
                                        var mang = JSON.parse(stringAdd);
                                        sum = $.extend(control, mang);

                                        if (v_thong_bao == 1) {
                                            ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + vl['id'] + '_tt" class="check_radio" id="' + vl['id'] + '_tt_1" value="1" style="margin: 0 5px 0 0" checked/> <label class="label-radio" for="' + vl['id'] + '_tt_1" style="margin: 0">Có</label></div>';
                                            ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + vl['id'] + '_tt" class="check_radio" id="' + vl['id'] + '_tt_2" value="2" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + vl['id'] + '_tt_2" style="margin: 0">Không </label></div>';
                                            ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + vl['id'] + '_tt" class="check_radio" id="' + vl['id'] + '_tt_3" value="3" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + vl['id'] + '_tt_3" style="margin: 0">Thuê</label></div>';
                                        } else if (v_thong_bao == 2) {
                                            ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + vl['id'] + '_tt" class="check_radio" id="' + vl['id'] + '_tt_1" value="1" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + vl['id'] + '_tt_1" style="margin: 0">Có</label></div>';
                                            ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + vl['id'] + '_tt" class="check_radio" id="' + vl['id'] + '_tt_2" value="2" style="margin: 0 5px 0 0" checked/> <label class="label-radio" for="' + vl['id'] + '_tt_2" style="margin: 0">Không </label></div>';
                                            ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + vl['id'] + '_tt" class="check_radio" id="' + vl['id'] + '_tt_3" value="3" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + vl['id'] + '_tt_3" style="margin: 0">Thuê</label></div>';
                                        } else {
                                            ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + vl['id'] + '_tt" class="check_radio" id="' + vl['id'] + '_tt_1" value="1" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + vl['id'] + '_tt_1" style="margin: 0">Có</label></div>';
                                            ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + vl['id'] + '_tt" class="check_radio" id="' + vl['id'] + '_tt_2" value="2" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + vl['id'] + '_tt_2" style="margin: 0">Không </label></div>';
                                            ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + vl['id'] + '_tt" class="check_radio" id="' + vl['id'] + '_tt_3" value="3" style="margin: 0 5px 0 0" checked/> <label class="label-radio" for="' + vl['id'] + '_tt_3" style="margin: 0">Thuê</label></div>';
                                        }
                                        ht += '</td><td style="width: 15%; text-align: center"><input type="text" style="width: 90%" class="ghi_chu" id="' + vl['id'] + '_gc" value="' + vl['ghi_chu'] + '"></input></td></tr>';

                                        var stringAdd = "{\"" + vl['id'] + "_gc" + "\":\"" + vl['ghi_chu'] + "\"}";
                                        var mang = JSON.parse(stringAdd);
                                        sum = $.extend(control, mang);
                                    });
                                } else {
                                    ht += '<tr><td style="width: 5%; text-align: center" id="' + v['id'] + '_stt">' + v['stt'] + '</td><td id="' + v['id'] + '_nd">' + v['noi_dung'] + '</td>';

                                    var stringAdd = "{\"" + v['id'] + "_stt" + "\":\"" + v['stt'] + "\"}";
                                    var mang = JSON.parse(stringAdd);
                                    sum = $.extend(control, mang);

                                    var stringAdd = "{\"" + v['id'] + "_nd" + "\":\"" + v['noi_dung'] + "\"}";
                                    var mang = JSON.parse(stringAdd);
                                    sum = $.extend(control, mang);

                                    ht += '<td style="width: 15%; text-align: center">';
                                    var v_thong_bao = v['thong_bao'];

                                    var stringAdd = "{\"" + v['id'] + "_tt" + "\":\"" + v['thong_bao'] + "\"}";
                                    var mang = JSON.parse(stringAdd);
                                    sum = $.extend(control, mang);

                                    if (v_thong_bao == 1) {
                                        ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + v['id'] + '_tt" class="check_radio" id="' + v['id'] + '_tt_1" value="1" style="margin: 0 5px 0 0" checked/> <label class="label-radio" for="' + v['id'] + '_tt_1" style="margin: 0">Có</label></div>';
                                        ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + v['id'] + '_tt" class="check_radio" id="' + v['id'] + '_tt_2" value="2" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + v['id'] + '_tt_2" style="margin: 0">Không </label></div>';
                                        ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + v['id'] + '_tt" class="check_radio" id="' + v['id'] + '_tt_3" value="3" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + v['id'] + '_tt_3" style="margin: 0">Thuê</label></div>';
                                    } else if (v_thong_bao == 2) {
                                        ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + v['id'] + '_tt" class="check_radio" id="' + v['id'] + '_tt_1" value="1" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + v['id'] + '_tt_1" style="margin: 0">Có</label></div>';
                                        ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + v['id'] + '_tt" class="check_radio" id="' + v['id'] + '_tt_2" value="2" style="margin: 0 5px 0 0" checked/> <label class="label-radio" for="' + v['id'] + '_tt_2" style="margin: 0">Không</label></div>';
                                        ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + v['id'] + '_tt" class="check_radio" id="' + v['id'] + '_tt_3" value="3" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + v['id'] + '_tt_3" style="margin: 0">Thuê</label></div>';
                                    } else {
                                        ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + v['id'] + '_tt" class="check_radio" id="' + v['id'] + '_tt_1" value="1" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + v['id'] + '_tt_1" style="margin: 0">Có</label></div>';
                                        ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + v['id'] + '_tt" class="check_radio" id="' + v['id'] + '_tt_2" value="2" style="margin: 0 5px 0 0"/> <label class="label-radio" for="' + v['id'] + '_tt_2" style="margin: 0">Không</label></div>';
                                        ht += '<div style="display: flex; align-items: center"><input type="radio" name="' + v['id'] + '_tt" class="check_radio" id="' + v['id'] + '_tt_3" value="3" style="margin: 0 5px 0 0" checked/> <label class="label-radio" for="' + v['id'] + '_tt_3" style="margin: 0">Thuê</label></div>';
                                    }
                                    ht += '</td><td style="width: 15%; text-align: center"><input type="text" style="width: 90%" class="ghi_chu" id="' + v['id'] + '_gc" value="' + v['ghi_chu'] + '"></input></td></tr>';

                                    var stringAdd = "{\"" + v['id'] + "_gc" + "\":\"" + v['ghi_chu'] + "\"}";
                                    var mang = JSON.parse(stringAdd);
                                    sum = $.extend(control, mang);
                                }
                            });
                            $('#' + body).after(ht);
                        }

                        var phan_nhom_count = 1;

                        var gen_phan_nhom = function (bang, body) {
                            var ht = '<tr><td class="bold" style="text-align:center; width: 5%" rowspan="' + bang.length + '">';

                            if (bang.length == 2) {
                                ht += '<div style="display: flex; align-items: center"><input type="radio" name="phan_nhom_' + phan_nhom_count + '_tt" class="check_phan_nhom" id="phan_nhom_' + phan_nhom_count + '_tt_1" value="1" style="margin: 0 5px 0 0" checked/> <label class="label-radio" for="phan_nhom_' + phan_nhom_count + '_tt_1" style="margin: 0">A</label></div>';
                                ht += '<div style="display: flex; align-items: center"><input type="radio" name="phan_nhom_' + phan_nhom_count + '_tt" class="check_phan_nhom" id="phan_nhom_' + phan_nhom_count + '_tt_2" value="2" style="margin: 0 5px 0 0"/> <label class="label-radio" for="phan_nhom_' + phan_nhom_count + '_tt_2" style="margin: 0">B</label></div>';
                            } else {
                                ht += '<div style="display: flex; align-items: center"><input type="radio" name="phan_nhom_' + phan_nhom_count + '_tt" class="check_phan_nhom" id="phan_nhom_' + phan_nhom_count + '_tt_1" value="1" style="margin: 0 5px 0 0" checked/> <label class="label-radio" for="phan_nhom_' + phan_nhom_count + '_tt_1" style="margin: 0">A</label></div>';
                                ht += '<div style="display: flex; align-items: center"><input type="radio" name="phan_nhom_' + phan_nhom_count + '_tt" class="check_phan_nhom" id="phan_nhom_' + phan_nhom_count + '_tt_2" value="2" style="margin: 0 5px 0 0"/> <label class="label-radio" for="phan_nhom_' + phan_nhom_count + '_tt_2" style="margin: 0">B</label></div>';
                                ht += '<div style="display: flex; align-items: center"><input type="radio" name="phan_nhom_' + phan_nhom_count + '_tt" class="check_phan_nhom" id="phan_nhom_' + phan_nhom_count + '_tt_3" value="3" style="margin: 0 5px 0 0"/> <label class="label-radio" for="phan_nhom_' + phan_nhom_count + '_tt_3" style="margin: 0">C</label></div>';
                            }
                            ht += '</td>';

                            var stringAdd = "{\"phan_nhom_" + phan_nhom_count + "_tt" + "\":\"" + 1 + "\"}";
                            var mang = JSON.parse(stringAdd);
                            sum = $.extend(control, mang);

                            $.each(bang, function (k, v) {

                                var stringAdd = "{\"" + v['id'] + "_nd" + "\":\"" + v['noi_dung'] + "\"}";
                                var mang = JSON.parse(stringAdd);
                                sum = $.extend(control, mang);

                                if (k == 0) {
                                    ht += '<td id="' + v['id'] + '_nd">' + v['noi_dung'] + '</td>';
                                    ht += '<td style="text-align: center; width: 10%" rowspan="' + bang.length + '"><span id="phan_nhom_' + phan_nhom_count + '_tb">A</span></td></tr>';
                                } else {
                                    ht += '<tr><td id="' + v['id'] + '_nd">' + v['noi_dung'] + '</td></tr>';
                                }
                            });
                            $('#' + body).after(ht);
                            phan_nhom_count++;
                        }
                        gen_yeu_cau(yeu_cau_1, 'td-yeu_cau_1');
                        gen_yeu_cau(yeu_cau_2, 'td-yeu_cau_2');
                        gen_yeu_cau(yeu_cau_3, 'td-yeu_cau_3');
                        gen_yeu_cau(yeu_cau_4, 'td-yeu_cau_4');
                        gen_yeu_cau(yeu_cau_5, 'td-yeu_cau_5');
                        gen_yeu_cau(yeu_cau_6, 'td-yeu_cau_6');

                        gen_phan_nhom(phan_nhom_1, 'td-phan_nhom_1');
                        gen_phan_nhom(phan_nhom_2, 'td-phan_nhom_2');
                        gen_phan_nhom(phan_nhom_3, 'td-phan_nhom_3');
                        gen_phan_nhom(phan_nhom_4, 'td-phan_nhom_4');
                        gen_phan_nhom(phan_nhom_5, 'td-phan_nhom_5');
                        gen_phan_nhom(phan_nhom_6, 'td-phan_nhom_6');

                        $('.check_phan_nhom').click(function () {
                            var stringAdd = "{\"" + this.name + "\":\"" + this.value + "\"}";
                            var mang = JSON.parse(stringAdd);
                            sum = $.extend(control, mang);

                            var id = this.name;
                            if (this.value == 1) {
                                $('#' + id.replace("tt", "tb")).html("A");
                            }
                            if (this.value == 2) {
                                $('#' + id.replace("tt", "tb")).html("B");
                            }
                            if (this.value == 3) {
                                $('#' + id.replace("tt", "tb")).html("C");
                            }

                        });

                        $('.check_radio').click(function () {
                            var stringAdd = "{\"" + this.name + "\":\"" + this.value + "\"}";
                            var mang = JSON.parse(stringAdd);
                            sum = $.extend(control, mang);
                        });

                        //Comment By Dungnv
                        /*$('#btn-save-formalpacaTP1').click(function(){
                            $('.ghi_chu').each(function(k, v){
                                var stringAdd = "{\"" + $(this).attr("id") + "\":\"" + $(this).val() +"\"}";
                                var mang = JSON.parse(stringAdd);
                                sum = $.extend(control, mang);
                            });
                            
                            var control2 = $("#formPartNoTP1").alpaca("get").getValue();
                            sum = $.extend(control, control2);
                            console.log('sum___', sum)
                            $('#btn-save-formalpacaTP1').removeClass("saveFormAlpaca")
                            fnSaveForm('TP1', sum);
                        });*/
                        //Edit By Dungnv
                       function addGhiChu(var_partNo) {
                            $('.ghi_chu').each(function (k, v) {
                                var stringAdd = "{\"" + $(this).attr("id") + "\":\"" + $(this).val() + "\"}";
                                var mang = JSON.parse(stringAdd);
                                sum = $.extend(control, mang);
                            });

                            var control2 = $("#formPartNo" + var_partNo).alpaca("get").getValue();
                            sum = $.extend(control, control2);
                            $('#btn-save-formalpacaTP1').removeClass("saveFormAlpaca");

                            return sum;
                        };

                        //File thong bao
                        /*var postFileUpload_1 = function (ten_file, callback) {
                            var form = $('#chon-file-1')[0];
                            var data = new FormData();
                            data.append("file", form.files[0]);
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: "POST",
                                url: "/o/rest/v2/dossiers/formfiles",
                                data: data,
                                processData: false,
                                contentType: false,
                                dataType: 'json',
                                cache: false,
                                timeout: 600000,
                                success: function (data) {
                                    data['ten_file'] = ten_file;
                                    callback(data);
                                }
                            });
                        }

                        $('#bt-upload-1').click(function () {
                            ten_file = $('#chon-file-1-name').val();
                            if (ten_file == '' || $('#chon-file-1').val() == '') {
                                ten_file = $("#chon-file-1").val().replace(/C:\\fakepath\\/i, '');
                                postFileUpload_1(ten_file, function (res) {
                                    mang_file = new Array();
                                    var m_tg = $('#copfileentryid').val();
                                    if (m_tg)
                                        mang_file.push(res);
                                    else {
                                        mang_file = JSON.parse(m_tg);
                                        mang_file.push(res);

                                    }
                                    $('#copfileentryid').val(JSON.stringify(mang_file));
                                    ds_file = $('#div-uploadfile-1').html();
                                    ds_file += '<p>- <a href="' + res['fileUrl'] + '" target="_blank" style="color: cyan">' + res['ten_file'] + '</a> &nbsp; &nbsp;  <input type="button" class="delete-upload" data-file-upload="' + res['fileId'] + '" value="Xoá" /></p>';
                                    $('#div-uploadfile-1').html(ds_file);
                                    $('#chon-file-1-name').val('');
                                    $('#chon-file-1').val('');
                                });
                            } else {
                                postFileUpload_1(ten_file, function (res) {
                                    mang_file = new Array();
                                    var m_tg = $('#copfileentryid').val();
                                    if (m_tg)
                                        mang_file.push(res);
                                    else {
                                        mang_file = JSON.parse(m_tg);
                                        mang_file.push(res);

                                    }
                                    $('#copfileentryid').val(JSON.stringify(mang_file));
                                    ds_file = $('#div-uploadfile-1').html();
                                    ds_file += '<p>- <a href="' + res['fileUrl'] + '" target="_blank" style="color: cyan">' + res['ten_file'] + '</a> &nbsp; &nbsp;  <input type="button" class="delete-upload" data-file-upload="' + res['fileId'] + '" value="Xoá" /></p>';
                                    $('#div-uploadfile-1').html(ds_file);
                                    $('#chon-file-1-name').val('');
                                    $('#chon-file-1').val('');
                                });
                            }
                        });

                        var genFileUpload_1 = function () {
                            mang_file = new Array();
                            var m_tg = $('#copfileentryid').val();
                            if (m_tg) {
                                mang_file = JSON.parse(m_tg);
                                ds_file = '';
                                $(mang_file).each(function (k, v) {
                                    ds_file += '<p>- <a href="' + v['fileUrl'] + '" target="_blank" style="color: cyan">' + v['ten_file'] + '</a> &nbsp; &nbsp;  <input type="button" class="delete-upload" data-file-upload="' + v['fileId'] + '" value="Xoá" /></p>';
                                });
                                $('#div-uploadfile-1').html(ds_file);
                            }
                        }

                        genFileUpload_1();

                        $('#div-uploadfile-1').delegate('.delete-upload', 'click', function () {
                            id = $(this).attr('data-file-upload');
                            mang_file = new Array();
                            var m_tg = $('#copfileentryid').val();
                            if (m_tg) {
                                mang_file = JSON.parse(m_tg);
                                index_ = '-1';
                                $(mang_file).each(function (k, v) {
                                    if (v['fileId'].toString() == id.toString())
                                        index_ = k;
                                });

                                if (index_ != '-1') {
                                    mang_file.splice(index_, 1);

                                }
                                $('#copfileentryid').val(JSON.stringify(mang_file));
                                genFileUpload_1();
                            }

                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: "DELETE",
                                url: "/o/rest/v2/dossiers/formfiles/" + id,
                                processData: false,
                                contentType: false,
                                dataType: 'json',
                                cache: false,
                                timeout: 600000,
                                success: function (data) {
                                    console.log('deleted');
                                }
                            });
                        });
                        //===

                        //==File bien ban
                        var postFileUpload_2 = function (ten_file, callback) {
                            var form = $('#chon-file-2')[0];
                            var data = new FormData();
                            data.append("file", form.files[0]);
                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: "POST",
                                url: "/o/rest/v2/dossiers/formfiles",
                                data: data,
                                processData: false,
                                contentType: false,
                                dataType: 'json',
                                cache: false,
                                timeout: 600000,
                                success: function (data) {
                                    data['ten_file'] = ten_file;
                                    callback(data);
                                }
                            });
                        }

                        $('#bt-upload-2').click(function () {
                            ten_file = $('#chon-file-2-name').val();
                            if (ten_file == '' || $('#chon-file-2').val() == '') {
                                ten_file = $("#chon-file-2").val().replace(/C:\\fakepath\\/i, '');
                                postFileUpload_2(ten_file, function (res) {
                                    mang_file = new Array();
                                    var m_tg = $('#copreportpreviousno').val();
                                    if (m_tg)
                                        mang_file.push(res);
                                    else {
                                        mang_file = JSON.parse(m_tg);
                                        mang_file.push(res);

                                    }
                                    $('#copreportpreviousno').val(JSON.stringify(mang_file));
                                    ds_file = $('#div-uploadfile-2').html();
                                    ds_file += '<p>- <a href="' + res['fileUrl'] + '" target="_blank" style="color: cyan">' + res['ten_file'] + '</a> &nbsp; &nbsp;  <input type="button" class="delete-upload" data-file-upload="' + res['fileId'] + '" value="Xoá" /></p>';
                                    $('#div-uploadfile-2').html(ds_file);
                                    $('#chon-file-2-name').val('');
                                    $('#chon-file-2').val('');
                                });
                            } else {
                                postFileUpload_2(ten_file, function (res) {
                                    mang_file = new Array();
                                    var m_tg = $('#copreportpreviousno').val();
                                    if (m_tg)
                                        mang_file.push(res);
                                    else {
                                        mang_file = JSON.parse(m_tg);
                                        mang_file.push(res);

                                    }
                                    $('#copreportpreviousno').val(JSON.stringify(mang_file));
                                    ds_file = $('#div-uploadfile-2').html();
                                    ds_file += '<p>- <a href="' + res['fileUrl'] + '" target="_blank" style="color: cyan">' + res['ten_file'] + '</a> &nbsp; &nbsp;  <input type="button" class="delete-upload" data-file-upload="' + res['fileId'] + '" value="Xoá" /></p>';
                                    $('#div-uploadfile-2').html(ds_file);
                                    $('#chon-file-2-name').val('');
                                    $('#chon-file-2').val('');
                                });
                            }
                        });

                        var genFileUpload_2 = function () {
                            mang_file = new Array();
                            var m_tg = $('#copreportpreviousno').val();
                            if (m_tg) {
                                mang_file = JSON.parse(m_tg);
                                ds_file = '';
                                $(mang_file).each(function (k, v) {
                                    ds_file += '<p>- <a href="' + v['fileUrl'] + '" target="_blank" style="color: cyan">' + v['ten_file'] + '</a> &nbsp; &nbsp;  <input type="button" class="delete-upload" data-file-upload="' + v['fileId'] + '" value="Xoá" /></p>';
                                });
                                $('#div-uploadfile-2').html(ds_file);
                            }
                        }

                        genFileUpload_2();

                        $('#div-uploadfile-2').delegate('.delete-upload', 'click', function () {
                            id = $(this).attr('data-file-upload');
                            mang_file = new Array();
                            var m_tg = $('#copreportpreviousno').val();
                            if (m_tg) {
                                mang_file = JSON.parse(m_tg);
                                index_ = '-1';
                                $(mang_file).each(function (k, v) {
                                    if (v['fileId'].toString() == id.toString())
                                        index_ = k;
                                });

                                if (index_ != '-1') {
                                    mang_file.splice(index_, 1);

                                }
                                $('#copreportpreviousno').val(JSON.stringify(mang_file));
                                genFileUpload_2();
                            }

                            $.ajax({
                                headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                type: "DELETE",
                                url: "/o/rest/v2/dossiers/formfiles/" + id,
                                processData: false,
                                contentType: false,
                                dataType: 'json',
                                cache: false,
                                timeout: 600000,
                                success: function (data) {
                                    console.log('deleted');
                                }
                            });
                        });*/
                        

                        //==

                        function vr_convertKeyArray(resourceArray, oldKey, newKey) {
                            var newArray = [];
                            var len = 0;
                            if (oldKey.length === newKey.length) {
                                len = oldKey.length;
                            }
                            resourceArray.forEach(function (el) {
                                var obj = new Object();
                                for (i = 0; i < len; i++) {
                                    obj[newKey[i]] = el[oldKey[i]];
                                }
                                if (!$.isEmptyObject(obj)) {
                                    obj['dossierId'] = $('#dossierId').val();
                                    obj['mtCore'] = 1;
                                    newArray.push(obj);
                                }
                            });
                            return newArray;
                        }

                        function vr_convertJSON() {
                            var obj = {};

                            obj['mtCore'] = 1;
                            obj['dossierId'] = $('#dossierId').val();
                            obj['applicantCode'] = $('#ma_so_doanh_nghiep').val();
                            obj['productionPlantCode'] = $('#ma_so_xuong').val();
                            obj['area'] = $('#list_COP_TrongNuoc_NuocNgoai').val();
                            obj['copReportType'] = $('#loai_ho_so_cop').val();
                            obj['module'] = '01';
                            obj['dossierIdCTN'] = $('#dossierIdCTN').val();
                            obj['dossierNo'] = $('#dossierNo').val();
                            obj['averageCapacity'] = $('#cong_suat_san_xuat').val();
                            obj['maxCapacity'] = $('#cong_suat_thiet_ke').val();
                            obj['totalEmployee'] = $('#tong_so_nhan_luc').val();
                            obj['totalWorker'] = $('#tong_so_cong_nhan').val();
                            //obj['totalManager'] = $('#').val();
                            //obj['totalTechnical'] = $('#').val();
                            obj['totalQaEmployee'] = $('#so_luong_nhan_vien').val();
                            obj['totalSquareMeter'] = $('#tong_dien_tich_dat').val();
                            obj['wareHouseSquare'] = $('#dien_tich_kho').val();
                            obj['officeSquare'] = $('#dien_tich_khu_van_phong').val();
                            obj['productionSquare'] = $('#dien_tich_khu_vuc').val();
                            obj['machiningArea'] = $('#khu_vuc_gia_cong').val();
                            obj['weldingArea'] = $('#khu_vuc_han').val();
                            obj['paintingArea'] = $('#khu_vuc_son').val();
                            obj['productionAssembleArea'] = $('#khu_vuc_san_xuat').val();
                            obj['finishProductArea'] = $('#khu_vuc_kiem_tra').val();
                            obj['testingArea'] = $('#khu_vuc_thu_nghiem').val();
                            obj['productionPlantWebsite'] = $('#website_xuong').val();
                            obj['copClassification'] = $('#loai_hinh_san_xuat').val();
                            obj['productClassificationDescription'] = $('#loai_hinh_san_xuat').find(":selected").text();
                            //obj['selfEquipment'] = $('#thiet bi kiem tra xuat xuong').val();

                            return obj;
                        }

                        function vr_convertArrayMain(formData, dklrData) {
                            //Danh sach nhan vien - vr_COPProductionPlantEmployee
                            var data_dsnv = vr_convertKeyArray(formData['danh_sach_nhan_vien'],
                                ['name', 'certNo', 'place', 'position'],
                                ['employeeName', 'employeeCertificateNo', 'trainningAt', 'workingPosition']);
                            dklrData['vr_COPProductionPlantEmployee'] = data_dsnv;

                            //Thiết bị kiểm tra - vr_COPProductionPlantEquipment
                            var data_tbkt = vr_convertKeyArray(formData['thiet_bi_xuat_xuong'],
                                ['id', 'name', 'name_text', 'mark', 'model', 'seri', 'year', 'country', 'temp', 'status', 'note'],
                                ['vrcopProductionPlantEquipmentId', 'equipmentCode', 'equipmentName', 'trademarkName', 'modelCode', 'equipmentSerialNo', 'productionYear', 'productionCountryCode', 'stampTestingNo', 'expiredStatus', 'notes']);
                            dklrData['vr_COPProductionPlantEquipment'] = data_tbkt;

                            //Thiết bị sản xuất - vr_COPProductionPlantProdEquipment
                            var data_tbsx = vr_convertKeyArray(formData['thiet_bi_san_xuat'],
                                ['name', 'name_text', 'mark', 'country', 'quantity', 'status', 'note'],
                                ['equipmentCode', 'equipmentName', 'trademarkName', 'productionCountryCode', 'quantity', 'equipmentStatus', 'notes']);
                            dklrData['vr_COPProductionPlantProdEquipment'] = data_tbsx;

                            //Danh mục loại sản phẩm - vr_COPProductType
                            var data_lsp = vr_convertKeyArray(formData['loai_san_pham_xuong'],
                                ['code_sp_XCG01050', 'ten_thuong_mai', 'nhan_hieu', 'code_nhan_hieu', 'ky_hieu_thiet_ke', 'ghi_chu'],
                                ['vehicleTypeCode', 'commercialName', 'tradeMarkName', 'trademark', 'designSymbolNo', 'notes']);
                            dklrData['vr_COPProductType'] = data_lsp;

                            //Danh sách tài liệu QLCL - vr_COPReport_Attach
                            var data_qltl = vr_convertKeyArray(formData['danh_sach_tai_lieu'],
                                ['name', 'materials', 'note'],
                                ['docName', 'docNo', 'remarks']);
                            dklrData['vr_COPReport_Attach'] = data_qltl;

                            return dklrData;
                        }

                        function postData() {
							$.each(control['thiet_bi_xuat_xuong'], function(k,v){
								v['id'] = k;
							});
                            var dklrData = {};
                            dklrData['vr_COPReportRepository'] = vr_convertJSON();
                            dklrData = vr_convertArrayMain(control, dklrData);
                            
                            $.when(
                                $.ajax('/o/rest/vr-app/cop/reportrepository/' + dossierId + '/1', {
                                    type: 'get',
                                    headers: { "groupId": Liferay.ThemeDisplay.getScopeGroupId() },
                                    dataType: 'json',
                                })
                            ).then(function (data) {
                                //Merge data cu
                                if (data) {
                                    dklrData['vr_COPReportRepository'] = { ...data, ...dklrData['vr_COPReportRepository']};
                                }
                                console.log('----> data dklrData: ' + JSON.stringify(dklrData));

                                // gọi API
                                var jsonData = new Object();
                                jsonData['body'] = dklrData;
                                jsonData['indice'] = 'vr_COPReportRepository';
                                $.ajax('/o/rest/vr-app/post', {
                                    type: 'POST',
                                    data: JSON.stringify(jsonData),
                                    dataType: 'json',
                                    contentType: 'application/json',
                                    processData: false,
									async: false,
                                    success: function (data) {
                                        if (data['status'] && data['status']['err_msg'] == 'success') {
                                            console.log('POST API thanh cong');
                                            notification.show({
                                                message: "Yêu cầu được thực hiện thành công!"
                                            }, "success");
                                        }
										bindIdtbxx(dossierId, 1);
                                    },
                                    error: function (data) {
                                        if (!data['status'] || !(data['status']['err_msg'] == 'success')) {
                                            console.log('POST API that bai');
                                            notification.show({
                                                message: "Thực hiện không thành công, xin vui lòng thử lại!"
                                            }, "error");
                                        }
                                    }
                                });
                                // kết thúc gọi API
                            });
                        }
                        //================

                        var var_partNo = 'TP1';
						var checksave = 0;
						
                        $("#btn-save-formalpaca" + var_partNo + ".saveForm").click(function () {
                            $('#count').val(1);
                            
							$('#column-thiet_bi_xuat_xuong').find('select').each(function(){
								var name = $(this).attr('name') + '_text';
								var id = $( "input[name=" + name + "]" ).attr('id');
								$('#' + id).val($(this).find(":selected").text());
							});
							
							$('#column-danh_sach_san_pham').find('select').each(function(){
								var name = $(this).attr('name');
								if(name.includes('mark')){
									var name2 = name.replace('_select', '');
									var name3 = name2.replace('_mark', '_code_mark');
									var id2 = $( "input[name=" + name2 + "]" ).attr('id');
									var id3 = $( "input[name=" + name3 + "]" ).attr('id');
									$('#' + id2).val($(this).find(":selected").text());
									$('#' + id3).val($(this).val());
								} else {
									var name2 = name + '_text';
									var id = $( "input[name=" + name2 + "]" ).attr('id');
									$('#' + id).val($(this).find(":selected").text());
								}
							});
							
                            var mang = {};
                            var control = addGhiChu(var_partNo);
                            console.log('da vao controlcontrolcontrol', control);

                            sum = $.extend(control, mang);
                            console.log('da vao', sum);
                            //fnSaveForm(var_partNo, sum);
                            //$('.formDataAlternative').val(JSON.stringify(sum));///thay formData
                            console.log('da vao');

                            //add by Dungnv
                            postData();
                            
							
                            if(!nextFormdata) {
								var gtCOP = $('#list_COP_TrongNuoc_NuocNgoai').val();
								if(gtCOP == 'NN'){
									delete sum['thiet_bi_xuat_xuong'];
									delete sum['hop_dong'];	
								}
                            console.log('da vao2', sum);
                                fnSaveForm(var_partNo,sum);
                                $('#dossierStatus').val(dossierStatus);
                            }
                            else if (nextFormdata == '0'){
                                var jsonLas = jsonCurrent;
                                var jsonKey = Object.keys(jsonLas);
                                var jsonSum = Object.keys(sum);
                                var jsonCheck = Object.keys(sum);
                                var jsonTrack = {};
                                var jsonSame = {};
                                var dem = 0;
                                
                                $.each(jsonSum, function(k, v){
                                    var idd = jsonSum[k];
                                    $.each(jsonKey, function(m, n){
                                        var idd2 = jsonKey[m];
                                        if(idd2 == idd){
                                            if(jsonLas[idd2] == sum[idd]){
                                                removeElement(jsonCheck, idd);
                                                jsonSame[dem] = idd;
                                                dem++;
                                            }
                                            if(idd.includes('phan_nhom') || idd.includes('yeu_cau')){
                                                removeElement(jsonCheck, idd);
                                            }
                                        }
                                    });
                                    
                                    if(k == jsonSum.length - 1){
                                        $.each(jsonSame, function(c, d){
                                            $('#' + d).parent().parent().parent().parent().parent().find('.content-label').css('background-color', 'white');
                                        });
                                        
                                        $.each(jsonCheck, function(a, b){
                                            
                                            $('#' + b).parent().parent().parent().parent().parent().find('.content-label').css('background-color', 'yellow');
                                            
                                            if(b.includes('trackChange_') || b.includes('_text')){
                                                
                                            } else {
                                                var trackId = 'trackChange_' + b;
                                                jsonTrack[trackId] = "1";
                                            }
                                            
                                            
                                            if(a == jsonCheck.length - 1){
                                                var sum2 = $.extend(sum, jsonTrack);
												var gtCOP = $('#list_COP_TrongNuoc_NuocNgoai').val();
												if(gtCOP == 'NN'){
													delete sum2['thiet_bi_xuat_xuong'];
													delete sum2['hop_dong'];	
												}
                                                fnSaveForm(var_partNo,sum2);
                                                $('#dossierStatus').val(dossierStatus);
                                            }
                                        });
                                    
                                    }
                                });
                            }
                            else {
                                //var jsonLas = JSON.parse(lastestFormdata);
                                var jsonLas = JSON.parse(nextFormdata.replace(/[\u0000-\u0019]+/g,""));
                                var jsonKey = Object.keys(jsonLas);
                                var jsonSum = Object.keys(sum);
                                var jsonCheck = Object.keys(sum);
                                var jsonTrack = {};
                                var jsonSame = {};
                                var dem = 0;
                                
                                $.each(jsonSum, function(k, v){
                                    var idd = jsonSum[k];
                                    $.each(jsonKey, function(m, n){
                                        var idd2 = jsonKey[m];
                                        if(idd2 == idd){
                                            if(idd == 'loai_san_pham_xuong'){
                                                
                                                if(JSON.stringify(sum[idd]) == JSON.stringify(jsonLas[idd2])){
                                                    console.log('on');
                                                } else {
                                                    console.log('off');
                                                }
                                            }
                                            if(jsonLas[idd2] == sum[idd]){
                                                removeElement(jsonCheck, idd);
                                                jsonSame[dem] = idd;
                                                dem++;
                                            }
                                            if(idd.includes('phan_nhom') || idd.includes('yeu_cau')){
                                                removeElement(jsonCheck, idd);
                                            }
                                        }
                                    });
                                    
                                    if(k == jsonSum.length - 1){
                                        $.each(jsonSame, function(c, d){
                                            $('#' + d).parent().parent().parent().parent().parent().find('.content-label').css('background-color', 'white');
                                        });
                                        removeElement(jsonCheck, 'applicantName');
                                        console.log('jsonCechk____', jsonCheck);
                                        $.each(jsonCheck, function(a, b){
                                            
                                            if(b.includes('trackChange_') || b.includes('_text')){
                                                
                                            } else {
                                                $('#' + b).parent().parent().parent().parent().parent().find('.content-label').css('background-color', 'yellow');
                                                var trackId = 'trackChange_' + b;
                                                jsonTrack[trackId] = "1";
                                            }
                                            
                                            
                                            if(a == jsonCheck.length - 1){
                                                var sum2 = $.extend(sum, jsonTrack);
												var gtCOP = $('#list_COP_TrongNuoc_NuocNgoai').val();
												if(gtCOP == 'NN'){
													delete sum2['thiet_bi_xuat_xuong'];
													delete sum2['hop_dong'];	
												}
                                                fnSaveForm(var_partNo,sum2);
                                                $('#dossierStatus').val(dossierStatus);
                                            }
                                        });
                                    
                                    }
                                });
                                    
                            }
							
                            return false;
                        });
                    }
                }	
            }
        } 
    },
    "view": {
        "parent": "bootstrap-edit",
        "layout": {
			"template": "<div class='row-fluid style-dklr-form'> <style> #column-thiet_bi_kiem_tra_chinh th:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_chinh td:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_chinh th:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_chinh td:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_chinh th:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_chinh td:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_chinh th:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_chinh td:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_chinh th:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_chinh td:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_lk_oto th:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_lk_oto td:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_lk_oto th:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_lk_oto td:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_lk_oto th:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_lk_oto td:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_lk_oto th:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_lk_oto td:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_lk_oto th:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_lk_oto td:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_ro_mooc th:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_ro_mooc td:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_ro_mooc th:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_ro_mooc td:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_ro_mooc th:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_ro_mooc td:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_ro_mooc th:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_ro_mooc td:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_ro_mooc th:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_xe_may th:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_xe_may td:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_xe_may th:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_xe_may td:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_xe_may th:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_xe_may td:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_xe_may th:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_xe_may td:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_xe_may th:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_xe_may td:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_lk_xe_may th:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_lk_xe_may td:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_lk_xe_may th:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_lk_xe_may td:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_lk_xe_may th:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_lk_xe_may td:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_lk_xe_may th:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_lk_xe_may td:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_lk_xe_may th:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_lk_xe_may td:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_xe_dap th:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_xe_dap td:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_xe_dap th:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_xe_dap td:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_xe_dap th:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_xe_dap td:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_xe_dap th:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_xe_dap td:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_xe_dap th:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_xe_dap td:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_xe_cho_nguoi th:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_xe_cho_nguoi td:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_xe_cho_nguoi th:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_xe_cho_nguoi td:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_xe_cho_nguoi th:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_xe_cho_nguoi td:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_xe_cho_nguoi th:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_xe_cho_nguoi td:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_xe_cho_nguoi th:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_xe_cho_nguoi td:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_xe_cho_hang th:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_xe_cho_hang td:nth-child(1) { width: 28%; } #column-thiet_bi_kiem_tra_xe_cho_hang th:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_xe_cho_hang td:nth-child(3) { width: 15%; } #column-thiet_bi_kiem_tra_xe_cho_hang th:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_xe_cho_hang td:nth-child(4) { width: 17%; } #column-thiet_bi_kiem_tra_xe_cho_hang th:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_xe_cho_hang td:nth-child(2) { display: none; } #column-thiet_bi_kiem_tra_xe_cho_hang th:nth-child(5) { display: none; } #column-thiet_bi_kiem_tra_xe_cho_hang td:nth-child(5) { display: none; } .style-dklr-form table th { text-align: center } #column-danh_sach_tai_lieu th:nth-child(1) { width: 5%; } #column-danh_sach_tai_lieu th:nth-child(4) { width: 15%; } #column-thiet_bi_san_xuat th:nth-child(1) { width: 5%; } #column-thiet_bi_san_xuat th:nth-child(3) { width: 15%; } #column-thiet_bi_san_xuat th:nth-child(4) { width: 15%; } #column-thiet_bi_san_xuat th:nth-child(5) { width: 10%; } #column-thiet_bi_san_xuat th:nth-child(6) { width: 10%; } #column-thiet_bi_san_xuat th:nth-child(7) { width: 10%; } #column-danh_sach_nhan_vien th:nth-child(1) { width: 20%; } #column-danh_sach_nhan_vien th:nth-child(2) { width: 25%; } #column-danh_sach_nhan_vien th:nth-child(4) { width: 15%; } .style-dklr-form .label-radio { display: block !important; cursor: pointer !important; font-weight: normal !important; } .style-dklr-form { -webkit-box-sizing: border-box; box-sizing: border-box; } .style-dklr-form .lv-header { margin: auto; border-bottom: double #ccc; text-align: center; font-size: 18px; } select { background-color: transparent !important; border-color: #ccc !important; } .style-dklr-form .ob-focus { color: #0000CC !important; background-color: #E6E6E6 !important; } .style-dklr-form .ob-focus select { border-bottom-color: #0000CC !important; } .style-dklr-form .ob-focus input { border-bottom-color: #0000CC !important; } /*.row-1{background-color:#f9f9f9;}.row-2{background-color: #F0F0F0;}*/ .style-dklr-form .lv-one { margin: auto; padding: 10px; } .style-dklr-form .lv-one div.lv-content { padding-left: 15px; overflow: hidden; } div[class*='lv'] { overflow: hidden; } /*.lv-one .content-label {float: left;width: 50%;}*/ .style-dklr-form .lv-three { padding: 5px 5px 0px 5px; display: flex; display: -webkit-flex; } .style-dklr-form .lv-one .lv-label { font-weight: bold; } .style-dklr-form .lv-one .lv-object { padding: 10px 0px 0px 15px; } .style-dklr-form .lv-one label { cursor: text; } .style-dklr-form .content-object { margin-bottom: 0px; } .style-dklr-form .lv-one div.lv-title { cursor: pointer; margin: 0 0 10px; font-weight: bold; } .style-dklr-form .lv-one label+div input, .style-dklr-form .lv-one label+div select, .style-dklr-form .lv-one label+div textarea { width: 100%; } .style-dklr-form .lv-object input, .style-dklr-form .lv-object select, .style-dklr-form .lv-object textarea { font-weight: bold !important; width: 100%; font-size: 13px !important; } .style-dklr-form input { border-color: #ccc !important; height: 27px !important; background-color: transparent !important; border-bottom: 1px solid gainsboro !important; border-top: 0 solid gainsboro !important; border-left: 0 solid gainsboro !important; border-right: 0 solid gainsboro !important; box-shadow: inset 0 0 0 rgba(0, 0, 0, 0) !important; font-weight: bold !important; } .style-dklr-form select { border-color: #ccc !important; padding: 0 !important; height: 21px !important; background-color: transparent !important; border-bottom: 1px solid gainsboro !important; border-top: 0 solid gainsboro !important; border-left: 0 solid gainsboro !important; border-right: 0 solid gainsboro !important; box-shadow: inset 0 0 0 rgba(0, 0, 0, 0) !important; font-weight: bold !important; } .style-dklr-form textarea { font-weight: bold !important; background-color: transparent !important; border-bottom: 1px solid gainsboro !important; border-top: 0 solid gainsboro !important; border-left: 1 solid gainsboro !important; border-right: 0 solid gainsboro !important; } .style-dklr-form .alpaca-container-item input { margin-left: 0px !important; } .style-dklr-form .content-label { white-space: nowrap; margin-right: 10px; } .style-dklr-form .content-object, .style-dklr-form .content-object input, .style-dklr-form .content-object select, .style-dklr-form .content-object span, .style-dklr-form .content-object textarea { width: 100%; /*margin-top: -2px;*/ } .style-dklr-form .content-object .text1, .content-object .select1 { width: 100%; } .style-dklr-form .content-object .text2 { width: 50%; } .style-dklr-form .content-object .text3, .style-dklr-form .content-object .select3 { width: 30%; } .style-dklr-form .style-required { border-color: #ff0000 !important; } table { border-collapse: collapse; } table, th, td { border: 1px solid #ccc; padding: 5px !important; } .bold { font-weight: bold; } .style-dklr-form table div { margin: 0 !important; } .style-dklr-form table .alpaca-control { margin: 0 0 7px 0px !important; display: inline-block; border: 1px solid #ccc !important; } .style-dklr-form table .alpaca-control label { display: inline-block !important; } .alpaca-array-toolbar-action.btn.btn-default.btn-sm { font-size: 0 !important; } .alpaca-array-toolbar-action.btn.btn-default.btn-sm:after { font-size: 14px !important; line-height: 38px !important; } .alpaca-field-table td>div:first-child .alpaca-control { margin-top: 16px !important; } .style-dklr-form .alpaca-container-item input[type='radio'], .style-dklr-form .alpaca-container-item input[type='checkbox'] { width: auto; margin-left: -20px !important; } .card i, .card__text i { font-size: 12px; } html input[type='button'] { border: 1px solid #ccc !important; padding: 5px; } .table>thead:first-child>tr:first-child>th { border-top: 1px solid #ccc !important } #column-loai_san_pham_xuong th:nth-child(6) { width: 15%; } #column-loai_san_pham_xuong td:nth-child(6) { width: 15%; } .style-dklr-form #column-loai_san_pham_xuong th:nth-child(5) { display: none; } #column-loai_san_pham_xuong td:nth-child(5) { display: none; } .style-dklr-form #column-loai_san_pham_xuong th:nth-child(4) { width: 30%; } #column-loai_san_pham_xuong td:nth-child(4) { width: 30%; } .style-dklr-form #column-loai_san_pham_xuong th:nth-child(3) { display: none; } #column-loai_san_pham_xuong td:nth-child(3) { display: none; } .style-dklr-form #column-loai_san_pham_xuong th:nth-child(2) { display: none; } #column-loai_san_pham_xuong td:nth-child(2) { display: none; } .style-dklr-form #column-loai_san_pham_xuong th:nth-child(1) { display: none; } #column-loai_san_pham_xuong td:nth-child(1) { display: none; } .select2 { width: 100% !important } #column-thiet_bi_xuat_xuong .select2 { margin-top: 20px !important } #column-thiet_bi_san_xuat .select2 { margin-top: 20px !important } #column-thiet_bi_kiem_tra_chinh .select2 { margin-top: 20px !important } #column-thiet_bi_kiem_tra_lk_oto .select2 { margin-top: 20px !important } #column-thiet_bi_kiem_tra_lk_xe_may .select2 { margin-top: 20px !important } #column-thiet_bi_kiem_tra_ro_mooc .select2 { margin-top: 20px !important } #column-thiet_bi_kiem_tra_xe_cho_hang .select2 { margin-top: 20px !important } #column-thiet_bi_kiem_tra_xe_cho_nguoi .select2 { margin-top: 20px !important } #column-thiet_bi_kiem_tra_xe_dap .select2 { margin-top: 20px !important } #column-thiet_bi_kiem_tra_xe_may .select2 { margin-top: 20px !important } #column-thiet_bi_dung_cu .select2 { margin-top: 20px !important } .contentinput { margin-top: 10px } #column-loai_ho_so_cop {width: 150px!important} #column-so_tham_chieu {width: 50%!important} #column-loai_san_pham_xuong .select2 {margin-top: 20px!important} #column-thiet_bi_xuat_xuong td:nth-child(10), #column-thiet_bi_xuat_xuong th:nth-child(10), #column-thiet_bi_xuat_xuong td:nth-child(11), #column-thiet_bi_xuat_xuong th:nth-child(11),  #column-thiet_bi_xuat_xuong td:nth-child(12), #column-thiet_bi_xuat_xuong th:nth-child(12),  #column-thiet_bi_xuat_xuong td:nth-child(13), #column-thiet_bi_xuat_xuong th:nth-child(13) {display: none} #column-thiet_bi_xuat_xuong td:nth-child(2) {width: 20%} #column-danh_sach_san_pham td:first-child, #column-danh_sach_san_pham th:first-child, #column-thiet_bi_dung_cu td:first-child, #column-thiet_bi_dung_cu th:first-child, #column-hop_dong td:first-child, #column-hop_dong th:first-child {width: 5%} .danh-sach-san-pham-select {padding-top: 20px} .cerNo-select {padding-top: 20px} .style-dklr-form label{font-family: Roboto} #column-danh_sach_san_pham td:nth-child(5), #column-danh_sach_san_pham th:nth-child(5), #column-danh_sach_san_pham td:nth-child(8), #column-danh_sach_san_pham th:nth-child(8), #column-danh_sach_san_pham td:nth-child(9), #column-danh_sach_san_pham th:nth-child(9) {display: none;} #column-chon_loai_thiet_bi input {margin-top: -5px!important;}</style><button id='btn-trackChange' type='button' class='btn btn-default' style='display: none'>Xem thay đổi lần trước</button> <div class='row-fluid'> <div class='span12'> <div class='lv-one'> <div class='' style='font-size: 16px; text-align: center; font-weight: bold'> <label class='content-label'>BẢN THÔNG TIN DOANH NGHIỆP<br><em>GENERAL INFORMATION</em></label> </div> </div> <div class='lv-one'> <div class='lv-content'> <div class='lv-two'> <div class='lv-title' style='cursor: pointer' id='title_I'>I. THÔNG TIN CHUNG DOANH NGHIỆP<br><em>&nbsp;&nbsp;&nbsp;COMPANY INFORMATION</em></div> <div class='lv-content' id='ttI'> <div class='lv-three'> <label class='content-label'>1. Tên cơ sở sản xuất/ cơ sở nhập khẩu(*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Manufacturer/ Importer name:</em></label> <div class='content-object' id='column-ten_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>2. Địa chỉ trụ sở chính(*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Head office address</em></label> <div class='content-object' id='column-dia_chi_chinh_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>3. Mã số doanh nghiệp (mã số thuế)(*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Registration certification/Tax code</em></label> <div class='content-object' id='column-ma_so_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>4. Số điện thoại (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Tel</em></label> <div class='content-object' id='column-so_dien_thoai_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>5. Fax <em>No</em></label> <div class='content-object' id='column-so_fax_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>6. Địa chỉ email (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Email address</em></label> <div class='content-object' id='column-email_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>7. Website</label> <div class='content-object' id='column-web_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>8. Người đại diện (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Represented by</em></label> <div class='content-object' id='column-nguoi_dai_dien_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>8.1. Chức danh (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Title</em></label> <div class='content-object' id='column-chuc_danh_dai_dien_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>8.2. Số điện thoại người đại diện (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Contact phone number</em></label> <div class='content-object' id='column-dien_thoai_dai_dien_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>9. Loại hình doanh nghiệp (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Type of company (limited, joint venture, etc)</em></label> <div class='content-object' id='column-loai_hinh_doanh_nghiep'></div> </div> <div class='lv-three'> <label class='content-label'>10. Lĩnh vực hoạt động (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Business lines (what type of goods of production)</em></label> <div class='content-object' id='column-linh_vuc_hoat_dong'></div> </div> </div> <div class='lv-title'> <label class='content-label bold' style='cursor: pointer' id='title_II'>II. THÔNG TIN XƯỞNG SẢN XUẤT, LẮP RÁP<br><em>&nbsp;&nbsp;&nbsp;&nbsp;PLANT INFORMATION</em></label> <div class='content-object' style='margin-top: 5px!important'> </div> </div> <div class='lv-content' id='ttII'> <div class='row'> <div class='col-sm-4 col-xs-12'><label class='content-label'>ĐG COP trong nước/ nước ngoài:</label> <div class='content-object ' style='margin-top: 5px!important' id='column-list_COP_TrongNuoc_NuocNgoai'> </div> </div> <div class='col-sm-8 col-xs-12'><label class='content-label'>Chọn nhà xưởng sản xuất, lắp ráp:</label> <div class='content-object' style='margin-top: 5px!important' id='column-list_nha_xuong'> </div> </div> </div> <div class='lv-three'> <label class='content-label'>1. Tên cơ sở sản xuất (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Manufacturer name</em></label> <div class='content-object' id='column-ten_co_so'></div> </div> <div class='lv-three'> <label class='content-label'>2. Địa chỉ trụ sở chính (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Head office address</em></label> <div class='content-object' id='column-dia_chi_co_so'></div> </div> <div class='lv-three'> <label class='content-label'>3. Tên xưởng sản xuất, lắp ráp (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Plant name</em></label> <div class='content-object' id='column-ten_xuong_san_xuat'></div> </div> <div class='lv-three'> <label class='content-label'>4. Địa chỉ xưởng (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Plant address</em></label> <div class='content-object' id='column-dia_chi_xuong_san_xuat'></div> </div> <div class='lv-three'> <label class='content-label'>5. Mã số doanh nghiệp (mã số thuế) (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Company registration number/Tax code</em></label> <div class='content-object' id='column-ma_so_xuong'></div> </div> <div class='lv-three'> <label class='content-label'>6. Địa chỉ email (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Email address</em></label> <div class='content-object' id='column-email_xuong'></div> </div> <div class='lv-three'> <label class='content-label'>7. Website</label> <div class='content-object' id='column-website_xuong'></div> </div> <div class='lv-three'> <label class='content-label'>8. Người đại diện (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Legal representative</em></label> <div class='content-object' id='column-nguoi_dai_dien_xuong'></div> </div> <div class='lv-three'> <label class='content-label'>8.1. Chức danh (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Title</em></label> <div class='content-object' id='column-chuc_danh_dai_dien_xuong'></div> </div><div class='lv-three'> <label class='content-label'>9. Người liên hệ </label> <div class='content-object' id='column-nguoi_lien_he_xuong'></div> </div><div class='lv-three'> <label class='content-label'>9.1. Số điện thoại </label> <div class='content-object' id='column-sdt_nguoi_lien_he_xuong'></div> </div></div><div class='lv-title'> <label class='content-label bold' style='cursor: pointer' id='title_III'>III. THÔNG TIN VỀ ĐÁNH GIÁ</label> <div class='content-object'> </div> </div><div class='lv-content' id='ttIII'><div class='lv-three'> <label class='content-label'>Loại hình đánh giá: </label> <div class='content-object' id='column-loai_ho_so_cop' style='padding-top: 10px'></div></div><div class='lv-three' style='display:none;'> <label class='content-label'>Nội dung bổ sung: </label> <div class='content-object' id='column-noi_dung_bo_sung' style='padding-top: 10px'></div></div><div class='lv-three'> <label class='content-label'>Số tham chiếu: </label> <div class='content-object' id='column-so_tham_chieu'></div></div> <div class='lv-three'> <label class='content-label'>3. Người liên hệ (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Contact person name</em></label> <div class='content-object' id='column-nguoi_lien_he'></div> </div> <div class='lv-three'> <label class='content-label'>3.1. Số điện thoại người liên hệ (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Contact phone number</em></label> <div class='content-object' id='column-sdt_nguoi_lien_he'></div> </div></div> <div class='lv-title'> <label class='content-label bold' style='cursor: pointer' id='title_IV'>IV. THÔNG TIN LOẠI SẢN PHẨM (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRODUCT TYPE INFORMATION</em></label> <div class='content-object'> </div> </div> <div class='lv-content' id='ttIV'> <div class='lv-three'> <label class='content-label'>1. Loại hình sản xuất, lắp ráp :<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Classification</em></label> <div class='content-object' style='padding-top: 5px; width: 50%; padding-right: 10px' id='column-loai_hinh_san_xuat'></div><label style='font-style: italic'>Chọn một loại sản phẩm trong Danh mục loại sản phẩm</label> </div> <div class='lv-three'> <label class='content-label'>2. Loại sản phẩm</label></div> <div class='lv-three'> <div class='content-object' id='column-loai_san_pham_xuong'></div> </div> <div class='lv-three'> <label class='content-label'>3. Công suất sản xuất thiết kế lớn nhất/tháng (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Maximum production capacity per month</em></label> <div class='content-object' id='column-cong_suat_thiet_ke'></div> </div> <div class='lv-three'> <label class='content-label'>4. Công suất sản xuất trung bình/tháng (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Average production capacity per month</em></label> <div class='content-object' id='column-cong_suat_san_xuat'></div> </div> <div class='lv-three'> <label class='content-label'>5. Tổng số nhân lực (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Total employees</em></label> <div class='content-object' id='column-tong_so_nhan_luc'></div> </div> <div class='lv-three'> <label class='content-label'>5.1. Tổng số công nhân (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total workers</em></label> <div class='content-object' id='column-tong_so_cong_nhan'></div> </div> <div class='lv-three'> <label class='content-label'>5.2. Tổng số cán bộ quản lý (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total manager</em></label> <div class='content-object' id='column-tong_so_quan_ly'></div> </div><div class='lv-three'> <label class='content-label'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tổng số cán bộ kỹ thuật (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total techinal employees</em></label> <div class='content-object' id='column-tong_so_can_bo'></div> </div> <div class='lv-three'> <label class='content-label'>5.3. Số lượng nhân viên kiểm tra chất lượng (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A number of QA employees</em></label> <div class='content-object' id='column-so_luong_nhan_vien'></div> </div> <div class='lv-three'> <label class='content-label'>5.4. Danh sách nhân viên kiểm tra chất lượng xe (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List of Q&A employees</em></label></div> <div class='lv-three'> <div class='content-object' id='column-danh_sach_nhan_vien'></div> </div> <div class='lv-three'> <label class='content-label'>6. Tổng diện tích đất (m<sup>2</sup>) (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Total square meter</em></label> <div class='content-object' id='column-tong_dien_tich_dat'></div> </div> <div class='lv-three'> <label class='content-label'>6.1. Diện tích kho (m<sup>2</sup>) (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Warehouse square</em></label> <div class='content-object' id='column-dien_tich_kho'></div> </div> <div class='lv-three'> <label class='content-label'>6.2. Diện tích khu văn phòng (m<sup>2</sup>) (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Office area square meter</em></label> <div class='content-object' id='column-dien_tich_khu_van_phong'></div> </div> <div class='lv-three'> <label class='content-label'>6.3. Diện tích khu vực sản xuất (m<sup>2</sup>) (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Production line square meter</em></label> <div class='content-object' id='column-dien_tich_khu_vuc'></div> </div> <div class='lv-three'> <label class='content-label'>7. Các khu vực sản xuất, kiểm tra<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Areas for productions, checking</em></label> <div class='content-object'></div> </div> <div class='lv-three'> <label class='content-label'>7.1. Khu vực gia công cơ khí<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Machining area</em></label> <div class='content-object' id='column-khu_vuc_gia_cong' style='width: 100px'></div> </div> <div class='lv-three'> <label class='content-label'>7.2. Khu vực hàn<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Welding area</em></label> <div class='content-object' id='column-khu_vuc_han' style='width: 100px'></div> </div> <div class='lv-three'> <label class='content-label'>7.3. Khu vực sơn<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Painting area</em></label> <div class='content-object' id='column-khu_vuc_son' style='width: 100px'></div> </div> <div class='lv-three'> <label class='content-label'>7.4. Khu vực sản xuất, lắp ráp<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Production, assemble area</em></label> <div class='content-object' id='column-khu_vuc_san_xuat' style='width: 100px'></div> </div> <div class='lv-three'> <label class='content-label'>7.5. Khu vực kiểm tra xuất xưởng<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finish product checking area</em></label> <div class='content-object' id='column-khu_vuc_kiem_tra' style='width: 100px'></div> </div> <div class='lv-three'> <label class='content-label'>7.6. Khu vực thử nghiệm<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Testing area</em></label> <div class='content-object' id='column-khu_vuc_thu_nghiem' style='width: 100px'></div> </div> <div class='lv-three'> <label class='content-label'>8. Thiết bị sản xuất chính (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Main equiments/facilites for production</em></label></div> <div class='lv-three'> <div class='content-object' id='column-thiet_bi_san_xuat'></div> </div> <div class='lv-three'> <label class='content-label'>9. Thiết bị kiểm tra (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;Main testing equiment</em></label> <div class='content-object'></div> </div> <div class='lv-three'> <label class='content-label'>9.1. Thiết bị kiểm tra xe xuất xưởng: </label><div class='content-object' id='column-chon_loai_thiet_bi'></div></div><div class='lv-three' style='display: none;' id='9_1_1'> <label class='content-label'>9.1.1. Có trang bị: </label></div> <div class='lv-three' style='display: none;'> <div class='content-object' id='column-thiet_bi_xuat_xuong'></div> </div><div class='lv-three' style='display: none;' id='9_1_2'> <label class='content-label'>9.1.2. Hợp đồng với Trung tâm Đăng kiểm: </label></div> <div class='lv-three' style='display: none;'> <div class='content-object' id='column-hop_dong'></div> </div> <div class='lv-object div-kttb-oto' style='display:none;'> <div class='lv-content'><b>Ô tô</b><br><br><div class='content-object contentinput' id='column-thiet_bi_kiem_tra_chinh'></div> </div> </div> <div class='lv-object div-kttb-ro-mooc' style='display:none;'> <div class='lv-content'><b>Rơ mooc, Sơ mi rơ mooc</b><br><br><div class='content-object contentinput' id='column-thiet_bi_kiem_tra_ro_mooc'> </div> </div> </div> <div class='lv-object div-kttb-lk-oto' style='display:none;'> <div class='lv-content'><b>Linh kiện ô tô</b><br><br><div class='content-object contentinput' id='column-thiet_bi_kiem_tra_lk_oto'></div> </div> </div> <div class='lv-object div-kttb-xe-may' style='display:none;'> <div class='lv-content'><b>Xe máy</b><br><br><div class='content-object contentinput' id='column-thiet_bi_kiem_tra_xe_may'></div> </div> </div> <div class='lv-object div-kttb-lk-xe-may' style='display:none;'> <div class='lv-content'><b>Linh kiện xe máy</b><br><br><div class='content-object contentinput' id='column-thiet_bi_kiem_tra_lk_xe_may'> </div> </div> </div> <div class='lv-object div-kttb-xe-dap' style='display:none;'> <div class='lv-content'><b>Xe đạp điện</b><br><br><div class='content-object contentinput' id='column-thiet_bi_kiem_tra_xe_dap'></div> </div> </div> <div class='lv-object div-kttb-xe-cho-hang' style='display:none;'> <div class='lv-content'><b>Xe chở hàng</b><br><br><div class='content-object contentinput' id='column-thiet_bi_kiem_tra_xe_cho_hang'> </div> </div> </div> <div class='lv-object div-kttb-xe-cho-nguoi' style='display:none;'> <div class='lv-content'><b>Xe chở người</b><br><br><div class='content-object contentinput' id='column-thiet_bi_kiem_tra_xe_cho_nguoi'> </div> </div> </div> <div class='lv-three'> <label class='content-label'>9.2. Thiết bị, dụng cụ kiểm tra chính khác<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Main testing equiment</em></label> </div> <div class='lv-three'> <div class='content-object' id='column-thiet_bi_dung_cu'></div> </div> <div class='lv-three'> <label class='content-label'>10. Danh sách các sản phẩm sản xuất đã được cấp giấy chứng nhận (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List of products</em></label></div> <div class='lv-three'> <div class='content-object' id='column-danh_sach_san_pham'></div> </div> <div class='lv-three'> <label class='content-label'>11. Danh sách tài liệu chất lượng liên quan đến sản xuất và kiểm tra chất lượng sản phẩm (*)<br><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List of materials relating to production & quality checking, control</em></label></div> <div class='lv-three'> <div class='content-object' id='column-danh_sach_tai_lieu'></div> </div> <!--<div class='lv-three'> <label class='content-label'>12. Yêu cầu tối thiểu về cơ sở vật chất doanh nghiệp sản xuất, lắp ráp ô tô theo Nghị định 116</label> <div class='content-object'></div> </div> <table border='1' style='margin-top: 15px; width: 100%; table-layout: fixed'> <tr> <td class='bold' style='text-align:center; width: 5%'>TT</td> <td class='bold' style='text-align:center;'>Hạng mục đánh giá</td> <td class='bold' style='text-align:center; width: 15%'>Thông tin khai báo</td> <td class='bold' style='text-align:center; width: 15%'>Ghi chú</td> </tr> <tr style=''> <td class='bold' colspan='4'>I. Yêu cầu về nhà xưởng sản xuất</td> </tr> <tr id='td-yeu_cau_1'></tr> <tr style=''> <td class='bold' colspan='4'>II. Yêu cầu về dây chuyền công nghệ lắp ráp</td> </tr> <tr id='td-yeu_cau_2'></tr> <tr style=''> <td class='bold' colspan='4'>III. Yêu cầu về dây chuyền hàn</td> </tr> <tr id='td-yeu_cau_3'></tr> <tr style=''> <td class='bold' colspan='4'>IV. Yêu cầu về dây chuyền sơn</td> </tr> <tr id='td-yeu_cau_4'></tr> <tr style=''> <td class='bold' colspan='4'>V. Yêu cầu về dây chuyền kiểm tra chất lượng sản phẩm </td> </tr> <tr id='td-yeu_cau_5'></tr> <tr style=''> <td class='bold' colspan='4'>VI. Yêu cầu về đường thử xe</td> </tr> <tr id='td-yeu_cau_6'></tr> </table> <div class='lv-three'> <label class='content-label bold'>13. Phân nhóm doanh nghiệp</label> </div> <table border='1' style='margin-top: 15px; width: 100%; table-layout: fixed'> <tr> <td class='bold' style='text-align:center; width: 5%'>TT</td> <td class='bold' style='text-align:center;'>Tiêu chí đánh giá</td> <td class='bold' style='text-align:center; width: 10%'>Thông tin khai báo</td> </tr> <tr style='font-style: italic'> <td class='bold' style='text-align:center; width: 5%'>1</td> <td class='bold' colspan='2'>Địa điểm sản xuất ổn định, lâu dài</td> </tr> <tr id='td-phan_nhom_1'></tr> <tr style='font-style: italic'> <td class='bold' style='text-align:center; width: 5%'>2</td> <td class='bold' colspan='2'>Quy mô sản xuất theo thiết kế theo dự án triển khai (sản lượng thiết kế)</td> </tr> <tr id='td-phan_nhom_2'></tr> <tr style='font-style: italic'> <td class='bold' style='text-align:center; width: 5%'>3</td> <td class='bold' colspan='2'>Công nghệ sản xuất, lắp ráp</td> </tr> <tr id='td-phan_nhom_3'></tr> <tr style='font-style: italic'> <td class='bold' style='text-align:center; width: 5%'>4</td> <td class='bold' colspan='2'>Trang thiết bị sản xuất</td> </tr> <tr id='td-phan_nhom_4'></tr> <tr style='font-style: italic'> <td class='bold' style='text-align:center; width: 5%'>5</td> <td class='bold' colspan='2'>Nhân lực kiểm tra chất lượng xuất xưởng</td> </tr> <tr id='td-phan_nhom_5'></tr> <tr style='font-style: italic'> <td class='bold' style='text-align:center; width: 5%'>6</td> <td class='bold' colspan='2'>Hệ thống quản lý chất lượng</td> </tr> <tr id='td-phan_nhom_6'></tr> </table><br>--><!--<div class='' style=''>Chúng tôi cam kết rằng:<br>- Thực hiện đúng các quy định của pháp luật về đất đai, xây dựng, phòng cháy chữa cháy, bảo vệ môi trường và điều kiện sản xuất kinh doanh đối với ngành nghề kinh doanh có điều kiện.<br>- Chịu trách nhiệm trước pháp luật về tính hợp pháp, chính xác và trung thực của nội dung nêu trên.<br>---------------------------------------<br><strong>Hướng dẫn:</strong><br></strong>1.<strong> Ghi chú: (*):</strong> Bắt buộc phải khai<br>2. Mục 1 và 2 của phần “I. Thông tin chung doanh nghiệp” được khai là cơ sở nhập khẩu nếu cơ sở đó là doanh nhiệp nhập khẩu.<br>3. Các nội dung của phần “II. <strong>THÔNG TIN XƯỞNG SẢN XUẤT, LẮP RÁP</strong>” được tạo thêm khi có xưởng SXLR mới<br>4. Các nội dung của phần III. <strong>THÔNG TIN LOẠI SẢN PHẨM </strong>được tạo thêm khi chọn 01 loại hình SX, LR tương ứng tại mục 1, Các nội dung của mục 2 được tạo ra với các loại sản phẩm tương ứng cột “Chi tiết ” trong “Danh mục loại sản phẩm”<br>5. Mục 5.4 - “Danh sách nhân viên kiểm tra chất lượng xe” phải được tạo ra khi tương ứng với loại hình SX, LR tại mục 1 được chọn loại sản phẩm là phương tiện, ví dụ như “ô tô từ linh kiện rời”, ...<br>6. Tại mục 9.1 - Thiết bị kiểm tra xe xuất xưởng: các thiết bị kiểm tra của modul thiết bị tương ứng với loại hình sản xuất được đổ vào khi đánh dấu vào ô Loại hình SXLR.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Cột “ghi chú”: đối với thiết bị là phanh, ghi rõ tải trọng tối đa tác dụng lên thiết bị7. Tại mục 10 - Danh sách các sản phẩm sản xuất đã được cấp giấy chứng nhận, các loại sản phẩm được cấp GCN tương ứng với loại hình sản xuất được đổ vào khi đánh dấu vào ô Loại hình SXLR .<br>8. Mục 9.1, 10: dữ liệu đươc đổ vào từ hệ thống khi chọn loại hình đánh giá “Định kỳ” hoặc “Đột xuất”<br>9. Mục 12 và 13 được tạo ra khi tương ứng với loại hình SX, LR tại mục 1 được chọn là “ô tô từ linh kiện rời”<br>10.Phần ghi chú của mục 12: ghi rõ nơi thuê nếu tại cột “Thông tin khai báo” được chọn “Thuê”</div> --></div> </div> </div> </div> </div> <div class='' id='column-auto'></div> <div id='column-initEvent'></div> <div id='column-yeu_cau_1' style='display: none;'></div> <div id='column-yeu_cau_2' style='display: none;'></div> <div id='column-yeu_cau_3' style='display: none;'></div> <div id='column-yeu_cau_4' style='display: none;'></div> <div id='column-yeu_cau_5' style='display: none;'></div> <div id='column-yeu_cau_6' style='display: none;'></div> <div id='column-phan_nhom_1' style='display:none;'></div> <div id='column-phan_nhom_2' style='display:none;'></div> <div id='column-phan_nhom_3' style='display:none;'></div> <div id='column-phan_nhom_4' style='display:none;'></div> <div id='column-phan_nhom_5' style='display:none;'></div> <div id='column-phan_nhom_6' style='display:none;'></div><div id='column-thoi_han_kiem_tra_from' style='display: none;'></div><div id='column-thoi_han_kiem_tra_to' style='display: none;'></div><div id='column-ma_so_tai_khoan' style='display:none;'></div><div id='column-loai_hinh_san_xuat_text' style='display:none;'></div><div id='column-loai_hinh_danh_gia' style='display:none;'></div><div id='column-list_nha_xuong_hidden'></div> <div id='column-list_COP_TrongNuoc_NuocNgoai_hidden'></div> <div id='column-loai_ho_so_cop_text'></div> <div id='column-applicantrepresentative'></div> <div id='column-applicantname'></div> <div id='column-applicantaddress'></div> <div id='column-applicantrepresentativetitle'></div> <div id='column-applicantcode'></div> <div id='column-productionplantname'></div> <div id='column-productionplantaddress'></div> <div id='column-productionplantcode'></div> <div id='column-markupdomesticsmanufacturer'></div> <div id='column-markupimporter'></div> <div id='column-copreportdate'></div> <div id='column-copreportstatus'></div> <div id='column-copreporttype'></div> <div id='column-copreportmetadata'></div> <div id='column-copreportsignname'></div> <div id='column-copreportsigntitle'></div> <div id='column-copreportsignplace'></div> <div id='column-copreportapproveddate'></div> <div id='column-copreportexpireddate'></div> <div id='column-copfileentryid'></div> <div id='column-productclassificationdescription'></div> <div id='column-totalpointa'></div> <div id='column-totalpointb'></div> <div id='column-totalpointc'></div> <div id='column-copnonconformity'></div> <div id='column-inspectionrecordno'></div> <div id='column-inspectionrecorddate'></div> <div id='column-corporationid'></div> <div id='column-inspectorid'></div> <div id='column-inspectionsite'></div> <div id='column-subinspector'></div> <div id='column-description'></div> <div id='column-expiredstatus'></div> <div id='column-copreportrefdate'></div> <div id='column-copreportpreviousno'></div> <div style='display: none;' id='column-list_nha_xuong_text'></div> <div id='column-copreportpreviousdate'></div> </div> </div>",
			"bindings": {
                "so_tham_chieu" : "column-so_tham_chieu",
                "ma_so_tai_khoan" : "column-ma_so_tai_khoan",
                "loai_hinh_danh_gia" : "column-loai_hinh_danh_gia",
                "yeu_cau_1" : "column-yeu_cau_1",
                "yeu_cau_2" : "column-yeu_cau_2",
                "yeu_cau_3" : "column-yeu_cau_3",
                "yeu_cau_4" : "column-yeu_cau_4",
                "yeu_cau_5" : "column-yeu_cau_5",
                "yeu_cau_6" : "column-yeu_cau_6",
                "phan_nhom_1" : "column-phan_nhom_1",
                "phan_nhom_2" : "column-phan_nhom_2",
                "phan_nhom_3" : "column-phan_nhom_3",
                "phan_nhom_4" : "column-phan_nhom_4",
                "phan_nhom_5" : "column-phan_nhom_5",
                "phan_nhom_6" : "column-phan_nhom_6",
                "bang_danh_gia" : "column-bang_danh_gia",
                "so_bao_cao_cop" : "column-so_bao_cao_cop",
                "web_doanh_nghiep" : "column-web_doanh_nghiep",
                "ten_doanh_nghiep" : "column-ten_doanh_nghiep",
                "dia_chi_chinh_doanh_nghiep" : "column-dia_chi_chinh_doanh_nghiep",
                "ma_so_doanh_nghiep" : "column-ma_so_doanh_nghiep",
                "so_dien_thoai_doanh_nghiep" : "column-so_dien_thoai_doanh_nghiep",
                "so_fax_doanh_nghiep" : "column-so_fax_doanh_nghiep",
                "email_doanh_nghiep" : "column-email_doanh_nghiep",
                "nguoi_dai_dien_doanh_nghiep" : "column-nguoi_dai_dien_doanh_nghiep",
                "chuc_danh_dai_dien_doanh_nghiep" : "column-chuc_danh_dai_dien_doanh_nghiep",
                "dien_thoai_dai_dien_doanh_nghiep" : "column-dien_thoai_dai_dien_doanh_nghiep",
                "loai_hinh_doanh_nghiep" : "column-loai_hinh_doanh_nghiep",
                "linh_vuc_hoat_dong" : "column-linh_vuc_hoat_dong",
                "loai_hinh_san_xuat_text" : "column-loai_hinh_san_xuat_text",
                "ten_co_so" : "column-ten_co_so",
                "dia_chi_co_so" : "column-dia_chi_co_so",
                "ten_xuong_san_xuat" : "column-ten_xuong_san_xuat",
                "dia_chi_xuong_san_xuat" : "column-dia_chi_xuong_san_xuat",
                "ma_so_xuong" : "column-ma_so_xuong",
                "email_xuong" : "column-email_xuong",
                "website_xuong" : "column-website_xuong",
                "nguoi_dai_dien_xuong" : "column-nguoi_dai_dien_xuong",
                "chuc_danh_dai_dien_xuong" : "column-chuc_danh_dai_dien_xuong",
                "nguoi_lien_he_xuong": "column-nguoi_lien_he_xuong",
                "sdt_nguoi_lien_he_xuong": "column-sdt_nguoi_lien_he_xuong",
                "nguoi_lien_he" : "column-nguoi_lien_he",
                "sdt_nguoi_lien_he" : "column-sdt_nguoi_lien_he",
                "loai_hinh_san_xuat" : "column-loai_hinh_san_xuat",
                "loai_san_pham_xuong" : "column-loai_san_pham_xuong",
                "cong_suat_thiet_ke" : "column-cong_suat_thiet_ke",
                "cong_suat_san_xuat" : "column-cong_suat_san_xuat",
                "tong_so_nhan_luc" : "column-tong_so_nhan_luc",
                "tong_so_cong_nhan" : "column-tong_so_cong_nhan",
                "tong_so_quan_ly" : "column-tong_so_quan_ly",
                "tong_so_can_bo" : "column-tong_so_can_bo",
                "so_luong_nhan_vien" : "column-so_luong_nhan_vien",
                "danh_sach_nhan_vien" : "column-danh_sach_nhan_vien",
                "tong_dien_tich_dat" : "column-tong_dien_tich_dat",
                "dien_tich_kho" : "column-dien_tich_kho",
                "dien_tich_khu_van_phong" : "column-dien_tich_khu_van_phong",
                "dien_tich_khu_vuc" : "column-dien_tich_khu_vuc",
                "thiet_bi_xuat_xuong" : "column-thiet_bi_xuat_xuong",
                "hop_dong" : "column-hop_dong",
                "khu_vuc_gia_cong" : "column-khu_vuc_gia_cong",
                "khu_vuc_han" : "column-khu_vuc_han",
                "khu_vuc_kiem_tra" : "column-khu_vuc_kiem_tra",
                "khu_vuc_san_xuat" : "column-khu_vuc_san_xuat",
                "khu_vuc_son" : "column-khu_vuc_son",
                "khu_vuc_thu_nghiem" : "column-khu_vuc_thu_nghiem",
                "thiet_bi_san_xuat" : "column-thiet_bi_san_xuat",
                "thiet_bi_dung_cu" : "column-thiet_bi_dung_cu",
                "danh_sach_san_pham" : "column-danh_sach_san_pham",
                "danh_sach_tai_lieu" : "column-danh_sach_tai_lieu",
                "tu_ngay" : "column-tu_ngay",
                "den_ngay" : "column-den_ngay",
                "dang_kiem_vien_1" : "column-dang_kiem_vien_1",
                "dang_kiem_vien_2" : "column-dang_kiem_vien_2",
                "dai_dien_cssx" : "column-dai_dien_cssx",
                "list_nha_xuong": "column-list_nha_xuong",
                "list_nha_xuong_hidden": "column-list_nha_xuong_hidden",
                "list_nha_xuong_text": "column-list_nha_xuong_text",
                "list_COP_TrongNuoc_NuocNgoai": "column-list_COP_TrongNuoc_NuocNgoai",				
                "list_COP_TrongNuoc_NuocNgoai_hidden": "column-list_COP_TrongNuoc_NuocNgoai_hidden",
                "loai_ho_so_cop": "column-loai_ho_so_cop",
                "noi_dung_bo_sung": "column-noi_dung_bo_sung",
                "loai_ho_so_cop_text": "column-loai_ho_so_cop_text",
                "thiet_bi_san_xuat_chinh": "column-thiet_bi_san_xuat_chinh",
                "thiet_bi_kiem_tra_chinh": "column-thiet_bi_kiem_tra_chinh",
                "thiet_bi_kiem_tra_lk_oto": "column-thiet_bi_kiem_tra_lk_oto",
                "thiet_bi_kiem_tra_ro_mooc": "column-thiet_bi_kiem_tra_ro_mooc",
                "thiet_bi_kiem_tra_xe_may": "column-thiet_bi_kiem_tra_xe_may",
                "thiet_bi_kiem_tra_lk_xe_may": "column-thiet_bi_kiem_tra_lk_xe_may",
                "thiet_bi_kiem_tra_xe_dap": "column-thiet_bi_kiem_tra_xe_dap",
                "thiet_bi_kiem_tra_xe_cho_hang": "column-thiet_bi_kiem_tra_xe_cho_hang",
                "thiet_bi_kiem_tra_xe_cho_nguoi": "column-thiet_bi_kiem_tra_xe_cho_nguoi",
                "markupDomesticsManufacturer": "column-markupdomesticsmanufacturer",
				"markupImporter": "column-markupimporter",
				"copReportDate": "column-copreportdate",
				"copReportStatus": "column-copreportstatus",
				"copReportType": "column-copreporttype",
				"copReportMetadata": "column-copreportmetadata",
				"copReportSignName": "column-copreportsignname",
				"copReportSignTitle": "column-copreportsigntitle",
				"copReportSignPlace": "column-copreportsignplace",
				"copReportApprovedDate": "column-copreportapproveddate",
				"copReportExpiredDate": "column-copreportexpireddate",
				"COPFileEntryId": "column-copfileentryid",
				"productClassificationDescription": "column-productclassificationdescription",
				"totalPointA": "column-totalpointa",
				"totalPointC": "column-totalpointc",
				"totalPointB": "column-totalpointb",
				"copNonConformity": "column-copnonconformity",
				"inspectionRecordNo": "column-inspectionrecordno",
				"inspectionRecordDate": "column-inspectionrecorddate",
				"corporationId": "column-corporationid",
				"inspectorId": "column-inspectorid",
				"inspectionSite": "column-inspectionsite",
				"subInspector": "column-subinspector",
				"description": "column-description",
				"expiredStatus": "column-expiredstatus",
				"copReportRefDate": "column-copreportrefdate",
				"copReportPreviousNo": "column-copreportpreviousno",
                "copReportPreviousDate": "column-copreportpreviousdate",
                "applicantRepresentative": "column-applicantrepresentative",
                "applicantName": "column-applicantname",
                "applicantAddress": "column-applicantaddress",
                "applicantRepresentativeTitle": "column-applicantrepresentativetitle",
                "applicantCode": "column-applicantcode",
                "productionPlantName": "column-productionplantname",
                "productionPlantAddress": "column-productionplantaddress",
                "productionPlantCode": "column-productionplantcode",
                "chon_loai_thiet_bi": "column-chon_loai_thiet_bi",
                "thoi_han_kiem_tra_from": "column-thoi_han_kiem_tra_from",
                "thoi_han_kiem_tra_to": "column-thoi_han_kiem_tra_to",
                "count": "column-initEvent",
				"trackChange_applicantAddress": "column-initEvent",
				"trackChange_applicantCode": "column-initEvent",
				"trackChange_applicantRepresentative": "column-initEvent",
				"trackChange_applicantRepresentativeTitle": "column-initEvent",
				"trackChange_chuc_danh_dai_dien_doanh_nghiep": "column-initEvent",
				"trackChange_chuc_danh_dai_dien_xuong": "column-initEvent",
				"trackChange_cong_suat_san_xuat": "column-initEvent",
				"trackChange_cong_suat_thiet_ke": "column-initEvent",
				"trackChange_danh_sach_nhan_vien": "column-initEvent",
				"trackChange_danh_sach_san_pham": "column-initEvent",
				"trackChange_danh_sach_tai_lieu": "column-initEvent",
				"trackChange_dia_chi_chinh_doanh_nghiep": "column-initEvent",
				"trackChange_dia_chi_co_so": "column-initEvent",
				"trackChange_dia_chi_xuong_san_xuat": "column-initEvent",
				"trackChange_dien_thoai_dai_dien_doanh_nghiep": "column-initEvent",
				"trackChange_dien_tich_kho": "column-initEvent",
				"trackChange_dien_tich_khu_van_phong": "column-initEvent",
				"trackChange_dien_tich_khu_vuc": "column-initEvent",
				"trackChange_dossierNoPattern": "column-initEvent",
				"trackChange_email_doanh_nghiep": "column-initEvent",
				"trackChange_email_xuong": "column-initEvent",
				"trackChange_khu_vuc_gia_cong": "column-initEvent",
				"trackChange_khu_vuc_han": "column-initEvent",
				"trackChange_khu_vuc_kiem_tra": "column-initEvent",
				"trackChange_khu_vuc_san_xuat": "column-initEvent",
				"trackChange_khu_vuc_son": "column-initEvent",
				"trackChange_khu_vuc_thu_nghiem": "column-initEvent",
				"trackChange_loai_hinh_doanh_nghiep": "column-initEvent",
				"trackChange_loai_hinh_san_xuat": "column-initEvent",
				"trackChange_loai_ho_so_cop": "column-initEvent",
				"trackChange_loai_san_pham_xuong": "column-initEvent",
				"trackChange_ma_so_doanh_nghiep": "column-initEvent",
				"trackChange_ma_so_tai_khoan": "column-initEvent",
				"trackChange_ma_so_xuong": "column-initEvent",
				"trackChange_nguoi_dai_dien_doanh_nghiep": "column-initEvent",
				"trackChange_nguoi_dai_dien_xuong": "column-initEvent",
                "trackChange_nguoi_lien_he_xuong": "column-initEvent",
                "trackChange_sdt_nguoi_lien_he_xuong": "column-initEvent",
				"trackChange_nguoi_lien_he": "column-initEvent",
				"trackChange_productionPlantAddress": "column-initEvent",
				"trackChange_productionPlantCode": "column-initEvent",
				"trackChange_productionPlantName": "column-initEvent",
				"trackChange_sdt_nguoi_lien_he": "column-initEvent",
				"trackChange_so_dien_thoai_doanh_nghiep": "column-initEvent",
				"trackChange_so_fax_doanh_nghiep": "column-initEvent",
				"trackChange_so_luong_nhan_vien": "column-initEvent",
				"trackChange_so_tham_chieu": "column-initEvent",
				"trackChange_ten_co_so": "column-initEvent",
				"trackChange_ten_doanh_nghiep": "column-initEvent",
				"trackChange_ten_xuong_san_xuat": "column-initEvent",
				"trackChange_thiet_bi_dung_cu": "column-initEvent",
				"trackChange_thiet_bi_kiem_tra_chinh": "column-initEvent",
				"trackChange_thiet_bi_kiem_tra_lk_oto": "column-initEvent",
				"trackChange_thiet_bi_kiem_tra_lk_xe_may": "column-initEvent",
				"trackChange_thiet_bi_kiem_tra_ro_mooc": "column-initEvent",
				"trackChange_thiet_bi_kiem_tra_xe_cho_hang": "column-initEvent",
				"trackChange_thiet_bi_kiem_tra_xe_cho_nguoi": "column-initEvent",
				"trackChange_thiet_bi_kiem_tra_xe_dap": "column-initEvent",
				"trackChange_thiet_bi_kiem_tra_xe_may": "column-initEvent",
				"trackChange_thiet_bi_san_xuat": "column-initEvent",
				"trackChange_thiet_bi_san_xuat_chinh": "column-initEvent",
				"trackChange_thiet_bi_xuat_xuong": "column-initEvent",
				"trackChange_hop_dong": "column-initEvent",
				"trackChange_tong_dien_tich_dat": "column-initEvent",
				"trackChange_tong_so_can_bo": "column-initEvent",
				"trackChange_tong_so_quan_ly": "column-initEvent",
				"trackChange_tong_so_cong_nhan": "column-initEvent",
				"trackChange_tong_so_nhan_luc": "column-initEvent",
				"trackChange_vr_COPProductType": "column-initEvent",
				"trackChange_vr_COPProductionPlantEmployee": "column-initEvent",
				"trackChange_vr_COPProductionPlantEquipment": "column-initEvent",
				"trackChange_vr_COPProductionPlantProdEquipment": "column-initEvent",
				"trackChange_vr_COPReport_Attach": "column-initEvent",
				"trackChange_web_doanh_nghiep": "column-initEvent",
				"trackChange_website_xuong": "column-initEvent",
				"markupCorporation": "column-initEvent",
				"markupDesigner": "column-initEvent",
				"markupDomesticsManufacturer": "column-initEvent",
				"markupOverseasManufacturer": "column-initEvent",
				"dossierStatus": "column-initEvent",
                "initEvent" : "column-initEvent"
            }
        },
        "fields": {
        }
    }
}